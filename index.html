<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <title>Preset Junkies</title>
    <link rel="icon" type="image/png" href="Emojies/48301-clownpepe.png">
    <!-- External libraries -->
    <script src="https://unpkg.com/wavesurfer.js@7/dist/wavesurfer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonejs/midi@2.0.28/build/Midi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <!-- Modular CSS -->
    <link rel="stylesheet" href="base.css?v=5">
    <link rel="stylesheet" href="layout.css?v=7">
    <link rel="stylesheet" href="filters.css?v=5">
    <link rel="stylesheet" href="cards.css?v=5">
    <link rel="stylesheet" href="playbar.css?v=5">
    <link rel="stylesheet" href="lounge.css?v=7">
    <link rel="stylesheet" href="notifications.css?v=7">
    <link rel="stylesheet" href="profile.css?v=6">
    <link rel="stylesheet" href="upload-page.css?v=5">
    <link rel="stylesheet" href="settings.css?v=1">
    <link rel="stylesheet" href="manage-sounds.css?v=1">
</head>
<body>
    <!-- MOBILE BLOCK OVERLAY -->
    <div class="mobile-block-overlay" id="mobile-block-overlay">
        <div class="mobile-block-content">
            <img src="Emojies/48301-clownpepe.png" alt="Pepe Clown" class="mobile-block-emoji">
            <h1 class="mobile-block-title">Preset Junkies</h1>
            <p class="mobile-block-message">This website is desktop only</p>
        </div>
    </div>
    <style>
        .mobile-block-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #0f0f1a 100%);
            z-index: 999999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        .mobile-block-content {
            text-align: center;
            padding: 2rem;
        }
        .mobile-block-emoji {
            width: 120px;
            height: 120px;
            margin-bottom: 1.5rem;
            animation: bounce 2s ease-in-out infinite;
        }
        .mobile-block-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 2rem;
            font-weight: 800;
            color: #fff;
            margin: 0 0 1rem 0;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .mobile-block-message {
            font-family: 'Inter', sans-serif;
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.7);
            margin: 0;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @media screen and (max-width: 768px) {
            .mobile-block-overlay {
                display: flex !important;
            }
            body > *:not(.mobile-block-overlay):not(style):not(script) {
                display: none !important;
            }
        }
    </style>

    <!-- SIDEBAR NAVIGATION -->
    <div class="side-nav" id="side-nav">
        <div class="side-nav-header">
            <div class="side-nav-mascot">
                <img src="Emojies/48301-clownpepe.png" alt="Preset Junkies Mascot">
                <span class="mascot-notification-badge" id="mascot-notifications-badge"></span>
            </div>
            <div class="side-nav-title-wrapper">
                <div class="side-nav-title" id="nav-title-text">Preset Junkies</div>
                <div class="side-nav-title side-nav-title-user" id="nav-title-user" style="display: none;">
                    <span id="nav-title-username">Username</span>
                    <svg class="nav-dropdown-arrow" viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
                </div>
                <div class="nav-user-dropdown" id="nav-user-dropdown">
                    <a href="#" class="nav-dropdown-item" data-view="profile">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                        Profile
                    </a>
                    <a href="#" class="nav-dropdown-item" data-view="notifications">
                        <svg class="nav-dropdown-notif-icon" id="dropdown-notif-bell" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
                        <span class="nav-dropdown-notif-count" id="dropdown-notif-count"></span>
                        Notifications
                    </a>
                    <a href="#" class="nav-dropdown-item" data-view="manage-sounds">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
                        Manage Sounds
                    </a>
                    <a href="#" class="nav-dropdown-item" data-view="settings">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                        Settings
                    </a>
                    <a href="#" class="nav-dropdown-item" id="dropdown-upload-btn">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                        Upload
                    </a>
                    <div class="nav-dropdown-divider"></div>
                    <a href="#" class="nav-dropdown-item nav-dropdown-logout" id="dropdown-logout-btn">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                        Logout
                    </a>
                </div>
            </div>
        </div>

        <div class="side-nav-section">
            <div class="side-nav-section-title">BROWSE</div>
            <a href="#" class="side-nav-item active" data-category="presets">Presets</a>
            <a href="#" class="side-nav-item" data-category="samples">Samples</a>
            <a href="#" class="side-nav-item" data-category="midi">MIDI</a>
            <a href="#" class="side-nav-item" data-category="projects">Projects</a>
        </div>

        <div class="side-nav-section">
            <div class="side-nav-section-title">COMMUNITY</div>
            <a href="#" class="side-nav-item" data-view="originals">Original Music</a>
            <a href="#" class="side-nav-item" data-view="lounge">The Lounge</a>
            <a href="#" class="side-nav-item" data-view="junkies">Junkies</a>
        </div>

        <!-- Login Section (shown when not logged in) -->
        <div class="side-nav-section side-nav-auth" id="auth-section">
            <button class="side-nav-login-btn" id="login-btn" data-action="openAuthModal" data-modal="login">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
                Login
            </button>
        </div>

        <div class="side-nav-section" id="user-nav-section" style="display: none;">
            <div class="side-nav-section-title" id="user-nav-title">HOME</div>
            <a href="#" class="side-nav-item" data-view="profile">Profile</a>
            <a href="#" class="side-nav-item" data-view="notifications">Notifications<span class="nav-badge" id="notifications-badge"></span></a>
            <a href="#" class="side-nav-item" data-view="manage-sounds">Manage Sounds</a>
            <a href="#" class="side-nav-item" data-view="settings">Settings</a>
            <a href="#" class="side-nav-item" id="sidebar-upload-btn">Upload</a>
        </div>

        <!-- User Profile Section (shown when logged in) -->
        <div class="side-nav-user-section" id="user-profile-section" style="display: none;">
            <div class="side-nav-user-avatar" id="side-nav-avatar">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
            </div>
            <div class="side-nav-user-info">
                <span class="side-nav-username" id="side-nav-username">Username</span>
                <button class="side-nav-logout-btn" id="logout-btn" data-action="logout">Logout</button>
            </div>
        </div>

        <!-- Donate Button -->
        <div class="side-nav-donate">
            <a href="https://ko-fi.com/psjv1" target="_blank" rel="noopener noreferrer" class="side-nav-donate-btn" id="donate-btn">
                <img src="Emojies/829312-ok.png" alt="" width="18" height="18">
                Donate
            </a>
        </div>
    </div>

    <div class="side-nav-toggle" id="side-nav-toggle">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </div>

    <!-- PRESETS BACKGROUND UPLOAD -->
    <div id="presets-bg-overlay"></div>
    <label class="presets-bg-upload" for="presets-bg-input" title="Change background" id="presets-bg-btn">
        <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
    </label>
    <input type="file" id="presets-bg-input" accept="image/*" style="display:none;">

    <div class="container">
        <!-- MAIN CONTENT AREA -->
        <div class="content-area">
            <!-- Blurred backdrop for playing items -->
            <div class="playing-backdrop" id="playing-backdrop"></div>

            <div id="presets-content" class="tab-panel active">
                <div class="instrument-display" id="vst-display">
                    <div class="instrument-display-banner" id="vst-banner">
                        <img src="" alt="" id="vst-banner-img">
                    </div>
                    <div class="filter-content active" id="filter-content-vsts">
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="vsts">
                                <span class="filter-section-label">Synthesizers</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="vsts-section">
                                <div class="filter-list">
                                    <button class="filter-list-item vst-tag" data-vst="diva"><span class="filter-checkbox"></span><span>DIVA</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="harmor"><span class="filter-checkbox"></span><span>HARMOR</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="massive"><span class="filter-checkbox"></span><span>MASSIVE</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="omnisphere"><span class="filter-checkbox"></span><span>OMNISPHERE</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="phaseplant"><span class="filter-checkbox"></span><span>PHASEPLANT</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="pigments"><span class="filter-checkbox"></span><span>PIGMENTS</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="serum"><span class="filter-checkbox"></span><span>SERUM</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="serum 2"><span class="filter-checkbox"></span><span>SERUM 2</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="surge xt"><span class="filter-checkbox"></span><span>SURGE XT</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="sylenth1"><span class="filter-checkbox"></span><span>SYLENTH1</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="sytrus"><span class="filter-checkbox"></span><span>SYTRUS</span></button>
                                    <button class="filter-list-item vst-tag" data-vst="vital"><span class="filter-checkbox"></span><span>VITAL</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="types">
                                <span class="filter-section-label">Sound Types</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="types-section">
                                <div class="filter-list">
                                    <button class="filter-list-item type-tag" data-type="Arp"><span class="filter-checkbox"></span><span>ARP</span></button>
                                    <button class="filter-list-item type-tag" data-type="Bass"><span class="filter-checkbox"></span><span>BASS</span></button>
                                    <button class="filter-list-item type-tag" data-type="Bell"><span class="filter-checkbox"></span><span>BELL</span></button>
                                    <button class="filter-list-item type-tag" data-type="Brass"><span class="filter-checkbox"></span><span>BRASS</span></button>
                                    <button class="filter-list-item type-tag" data-type="Chord"><span class="filter-checkbox"></span><span>CHORD</span></button>
                                    <button class="filter-list-item type-tag" data-type="Drone"><span class="filter-checkbox"></span><span>DRONE</span></button>
                                    <button class="filter-list-item type-tag" data-type="FX"><span class="filter-checkbox"></span><span>FX</span></button>
                                    <button class="filter-list-item type-tag" data-type="Keys"><span class="filter-checkbox"></span><span>KEYS</span></button>
                                    <button class="filter-list-item type-tag" data-type="Lead"><span class="filter-checkbox"></span><span>LEAD</span></button>
                                    <button class="filter-list-item type-tag" data-type="Organ"><span class="filter-checkbox"></span><span>ORGAN</span></button>
                                    <button class="filter-list-item type-tag" data-type="Pad"><span class="filter-checkbox"></span><span>PAD</span></button>
                                    <button class="filter-list-item type-tag" data-type="Percussion"><span class="filter-checkbox"></span><span>PERCUSSION</span></button>
                                    <button class="filter-list-item type-tag" data-type="Piano"><span class="filter-checkbox"></span><span>PIANO</span></button>
                                    <button class="filter-list-item type-tag" data-type="Pluck"><span class="filter-checkbox"></span><span>PLUCK</span></button>
                                    <button class="filter-list-item type-tag" data-type="Sequence"><span class="filter-checkbox"></span><span>SEQUENCE</span></button>
                                    <button class="filter-list-item type-tag" data-type="Stab"><span class="filter-checkbox"></span><span>STAB</span></button>
                                    <button class="filter-list-item type-tag" data-type="String"><span class="filter-checkbox"></span><span>STRING</span></button>
                                    <button class="filter-list-item type-tag" data-type="Sub"><span class="filter-checkbox"></span><span>SUB</span></button>
                                    <button class="filter-list-item type-tag" data-type="Synth"><span class="filter-checkbox"></span><span>SYNTH</span></button>
                                    <button class="filter-list-item type-tag" data-type="Vocal"><span class="filter-checkbox"></span><span>VOCAL</span></button>
                                    <button class="filter-list-item type-tag" data-type="Woodwind"><span class="filter-checkbox"></span><span>WOODWIND</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="tags">
                                <span class="filter-section-label">Tags</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="tags-section">
                                <input type="text" class="tags-search" id="preset-tags-search" placeholder="Search tags..." maxlength="50">
                                <div class="filter-list" id="preset-trending-tags">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="presets-grid" class="items-grid"></div>
            </div>

            <div id="samples-content" class="tab-panel">
                <div class="instrument-display" id="samples-display">
                    <div class="instrument-display-banner" id="sample-banner">
                        <img src="" alt="" id="sample-banner-img">
                    </div>
                    <div class="filter-content active" id="filter-content-samples">
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="loop-types">
                                <span class="filter-section-label">Sample Type</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="loop-types-section">
                                <div class="filter-list" id="loop-type-tags">
                                    <button class="filter-list-item loop-type-tag selected" data-loop-type="Loop"><span class="filter-checkbox"></span><span>LOOP</span></button>
                                    <button class="filter-list-item loop-type-tag" data-loop-type="One Shot"><span class="filter-checkbox"></span><span>ONE SHOT</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="sample-types">
                                <span class="filter-section-label">Loops</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="sample-types-section">
                                <div class="filter-list" id="sample-type-tags">
                                    <button class="filter-list-item sample-type-tag" data-type="Bass"><span class="filter-checkbox"></span><span>BASS</span></button>
                                    <button class="filter-list-item sample-type-tag" data-type="Drum"><span class="filter-checkbox"></span><span>DRUM</span></button>
                                    <button class="filter-list-item sample-type-tag" data-type="FX"><span class="filter-checkbox"></span><span>FX</span></button>
                                    <button class="filter-list-item sample-type-tag" data-type="Guitar"><span class="filter-checkbox"></span><span>GUITAR</span></button>
                                    <button class="filter-list-item sample-type-tag" data-type="Melody"><span class="filter-checkbox"></span><span>MELODY</span></button>
                                    <button class="filter-list-item sample-type-tag" data-type="Percussion"><span class="filter-checkbox"></span><span>PERCUSSION</span></button>
                                    <button class="filter-list-item sample-type-tag" data-type="Piano"><span class="filter-checkbox"></span><span>PIANO</span></button>
                                    <button class="filter-list-item sample-type-tag" data-type="Synth"><span class="filter-checkbox"></span><span>SYNTH</span></button>
                                    <button class="filter-list-item sample-type-tag" data-type="Vocal"><span class="filter-checkbox"></span><span>VOCAL</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="sample-tags">
                                <span class="filter-section-label">Tags</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="sample-tags-section">
                                <input type="text" class="tags-search" id="sample-tags-search" placeholder="Search tags...">
                                <div class="filter-list" id="sample-trending-tags">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="samples-grid" class="items-grid"></div>
            </div>

            <div id="midi-content" class="tab-panel">
                <div class="instrument-display" id="midi-display">
                    <div class="instrument-display-banner" id="midi-banner">
                        <img src="" alt="" id="midi-banner-img">
                    </div>
                    <div class="filter-content active" id="filter-content-midi">
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="midi-keys">
                                <span class="filter-section-label">Keys</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="midi-keys-section">
                                <div class="filter-list" id="midi-key-tags">
                                    <button class="filter-list-item midi-key-tag" data-key="C"><span class="filter-checkbox"></span><span>C</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="C#"><span class="filter-checkbox"></span><span>C#</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="D"><span class="filter-checkbox"></span><span>D</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="D#"><span class="filter-checkbox"></span><span>D#</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="E"><span class="filter-checkbox"></span><span>E</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="F"><span class="filter-checkbox"></span><span>F</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="F#"><span class="filter-checkbox"></span><span>F#</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="G"><span class="filter-checkbox"></span><span>G</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="G#"><span class="filter-checkbox"></span><span>G#</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="A"><span class="filter-checkbox"></span><span>A</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="A#"><span class="filter-checkbox"></span><span>A#</span></button>
                                    <button class="filter-list-item midi-key-tag" data-key="B"><span class="filter-checkbox"></span><span>B</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="midi-scales">
                                <span class="filter-section-label">Scales</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="midi-scales-section">
                                <div class="filter-list" id="midi-scale-tags">
                                    <button class="filter-list-item midi-scale-tag" data-scale="Blues"><span class="filter-checkbox"></span><span>BLUES</span></button>
                                    <button class="filter-list-item midi-scale-tag" data-scale="Dorian"><span class="filter-checkbox"></span><span>DORIAN</span></button>
                                    <button class="filter-list-item midi-scale-tag" data-scale="Harmonic Minor"><span class="filter-checkbox"></span><span>HARMONIC MINOR</span></button>
                                    <button class="filter-list-item midi-scale-tag" data-scale="Lydian"><span class="filter-checkbox"></span><span>LYDIAN</span></button>
                                    <button class="filter-list-item midi-scale-tag" data-scale="Major"><span class="filter-checkbox"></span><span>MAJOR</span></button>
                                    <button class="filter-list-item midi-scale-tag" data-scale="Melodic Minor"><span class="filter-checkbox"></span><span>MELODIC MINOR</span></button>
                                    <button class="filter-list-item midi-scale-tag" data-scale="Minor"><span class="filter-checkbox"></span><span>MINOR</span></button>
                                    <button class="filter-list-item midi-scale-tag" data-scale="Mixolydian"><span class="filter-checkbox"></span><span>MIXOLYDIAN</span></button>
                                    <button class="filter-list-item midi-scale-tag" data-scale="Pentatonic"><span class="filter-checkbox"></span><span>PENTATONIC</span></button>
                                    <button class="filter-list-item midi-scale-tag" data-scale="Phrygian"><span class="filter-checkbox"></span><span>PHRYGIAN</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="midi-tags">
                                <span class="filter-section-label">Tags</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="midi-tags-section">
                                <input type="text" class="tags-search" id="midi-tags-search" placeholder="Search tags...">
                                <div class="filter-list" id="midi-trending-tags">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="midi-grid" class="items-grid"></div>
            </div>

            <div id="projects-content" class="tab-panel">
                <div class="instrument-display" id="daw-display">
                    <div class="instrument-display-banner" id="daw-banner">
                        <img src="" alt="" id="daw-banner-img">
                    </div>
                    <div class="filter-content active" id="filter-content-projects">
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="daws">
                                <span class="filter-section-label">DAWs</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="daws-section">
                                <div class="filter-list" id="daw-tags">
                                    <button class="filter-list-item vst-tag" data-daw="ableton"><span class="filter-checkbox"></span><span>ABLETON</span></button>
                                    <button class="filter-list-item vst-tag" data-daw="bitwig"><span class="filter-checkbox"></span><span>BITWIG</span></button>
                                    <button class="filter-list-item vst-tag" data-daw="cakewalk"><span class="filter-checkbox"></span><span>CAKEWALK</span></button>
                                    <button class="filter-list-item vst-tag" data-daw="cubase"><span class="filter-checkbox"></span><span>CUBASE</span></button>
                                    <button class="filter-list-item vst-tag" data-daw="flstudio"><span class="filter-checkbox"></span><span>FL STUDIO</span></button>
                                    <button class="filter-list-item vst-tag" data-daw="logic"><span class="filter-checkbox"></span><span>LOGIC PRO</span></button>
                                    <button class="filter-list-item vst-tag" data-daw="protools"><span class="filter-checkbox"></span><span>PRO TOOLS</span></button>
                                    <button class="filter-list-item vst-tag" data-daw="reaper"><span class="filter-checkbox"></span><span>REAPER</span></button>
                                    <button class="filter-list-item vst-tag" data-daw="reason"><span class="filter-checkbox"></span><span>REASON</span></button>
                                    <button class="filter-list-item vst-tag" data-daw="studioone"><span class="filter-checkbox"></span><span>STUDIO ONE</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="genres">
                                <span class="filter-section-label">Genres</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="genres-section">
                                <div class="filter-list" id="genre-tags">
                                    <button class="filter-list-item type-tag" data-genre="Afrobeats"><span class="filter-checkbox"></span><span>AFROBEATS</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Alternative"><span class="filter-checkbox"></span><span>ALTERNATIVE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Ambient"><span class="filter-checkbox"></span><span>AMBIENT</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Boom Bap"><span class="filter-checkbox"></span><span>BOOM BAP</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Breakbeat"><span class="filter-checkbox"></span><span>BREAKBEAT</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Dancehall"><span class="filter-checkbox"></span><span>DANCEHALL</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Deep House"><span class="filter-checkbox"></span><span>DEEP HOUSE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Downtempo"><span class="filter-checkbox"></span><span>DOWNTEMPO</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Drum & Bass"><span class="filter-checkbox"></span><span>DRUM & BASS</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Dubstep"><span class="filter-checkbox"></span><span>DUBSTEP</span></button>
                                    <button class="filter-list-item type-tag" data-genre="EDM"><span class="filter-checkbox"></span><span>EDM</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Electro"><span class="filter-checkbox"></span><span>ELECTRO</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Experimental"><span class="filter-checkbox"></span><span>EXPERIMENTAL</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Future Bass"><span class="filter-checkbox"></span><span>FUTURE BASS</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Future House"><span class="filter-checkbox"></span><span>FUTURE HOUSE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Garage"><span class="filter-checkbox"></span><span>GARAGE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Hardstyle"><span class="filter-checkbox"></span><span>HARDSTYLE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Hip-Hop"><span class="filter-checkbox"></span><span>HIP-HOP</span></button>
                                    <button class="filter-list-item type-tag" data-genre="House"><span class="filter-checkbox"></span><span>HOUSE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Hyperpop"><span class="filter-checkbox"></span><span>HYPERPOP</span></button>
                                    <button class="filter-list-item type-tag" data-genre="IDM"><span class="filter-checkbox"></span><span>IDM</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Jersey Club"><span class="filter-checkbox"></span><span>JERSEY CLUB</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Jpop"><span class="filter-checkbox"></span><span>JPOP</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Jungle"><span class="filter-checkbox"></span><span>JUNGLE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Kpop"><span class="filter-checkbox"></span><span>KPOP</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Lo-Fi"><span class="filter-checkbox"></span><span>LO-FI</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Melodic House"><span class="filter-checkbox"></span><span>MELODIC HOUSE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Phonk"><span class="filter-checkbox"></span><span>PHONK</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Pop"><span class="filter-checkbox"></span><span>POP</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Progressive House"><span class="filter-checkbox"></span><span>PROGRESSIVE HOUSE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="R&B"><span class="filter-checkbox"></span><span>R&B</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Reggaeton"><span class="filter-checkbox"></span><span>REGGAETON</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Riddim"><span class="filter-checkbox"></span><span>RIDDIM</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Synthwave"><span class="filter-checkbox"></span><span>SYNTHWAVE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Tech House"><span class="filter-checkbox"></span><span>TECH HOUSE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Techno"><span class="filter-checkbox"></span><span>TECHNO</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Trance"><span class="filter-checkbox"></span><span>TRANCE</span></button>
                                    <button class="filter-list-item type-tag" data-genre="Trap"><span class="filter-checkbox"></span><span>TRAP</span></button>
                                    <button class="filter-list-item type-tag" data-genre="UK Drill"><span class="filter-checkbox"></span><span>UK DRILL</span></button>
                                    <button class="filter-list-item type-tag" data-genre="UK Garage"><span class="filter-checkbox"></span><span>UK GARAGE</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="project-tags">
                                <span class="filter-section-label">Tags</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="project-tags-section">
                                <input type="text" class="tags-search" id="project-tags-search" placeholder="Search tags...">
                                <div class="filter-list" id="project-trending-tags">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="projects-grid" class="items-grid"></div>
            </div>

            <div id="originals-content" class="tab-panel">
                <div class="instrument-display" id="originals-display">
                    <div class="instrument-display-banner" id="originals-banner">
                        <img src="" alt="" id="originals-banner-img">
                    </div>
                    <div class="filter-content active" id="filter-content-originals">
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="originals-genres">
                                <span class="filter-section-label">Genres</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="originals-genres-section">
                                <div class="filter-list" id="originals-genre-tags">
                                    <button class="filter-list-item originals-genre-tag" data-genre="Afrobeats"><span class="filter-checkbox"></span><span>AFROBEATS</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Alternative"><span class="filter-checkbox"></span><span>ALTERNATIVE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Ambient"><span class="filter-checkbox"></span><span>AMBIENT</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Boom Bap"><span class="filter-checkbox"></span><span>BOOM BAP</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Breakbeat"><span class="filter-checkbox"></span><span>BREAKBEAT</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Dancehall"><span class="filter-checkbox"></span><span>DANCEHALL</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Deep House"><span class="filter-checkbox"></span><span>DEEP HOUSE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Downtempo"><span class="filter-checkbox"></span><span>DOWNTEMPO</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Experimental"><span class="filter-checkbox"></span><span>EXPERIMENTAL</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Drum & Bass"><span class="filter-checkbox"></span><span>DRUM & BASS</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Dubstep"><span class="filter-checkbox"></span><span>DUBSTEP</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="EDM"><span class="filter-checkbox"></span><span>EDM</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Electro"><span class="filter-checkbox"></span><span>ELECTRO</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Future Bass"><span class="filter-checkbox"></span><span>FUTURE BASS</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Future House"><span class="filter-checkbox"></span><span>FUTURE HOUSE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Garage"><span class="filter-checkbox"></span><span>GARAGE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Hardstyle"><span class="filter-checkbox"></span><span>HARDSTYLE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Hip-Hop"><span class="filter-checkbox"></span><span>HIP-HOP</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="House"><span class="filter-checkbox"></span><span>HOUSE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Hyperpop"><span class="filter-checkbox"></span><span>HYPERPOP</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="IDM"><span class="filter-checkbox"></span><span>IDM</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Jersey Club"><span class="filter-checkbox"></span><span>JERSEY CLUB</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Jpop"><span class="filter-checkbox"></span><span>JPOP</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Jungle"><span class="filter-checkbox"></span><span>JUNGLE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Kpop"><span class="filter-checkbox"></span><span>KPOP</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Lo-Fi"><span class="filter-checkbox"></span><span>LO-FI</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Melodic House"><span class="filter-checkbox"></span><span>MELODIC HOUSE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Phonk"><span class="filter-checkbox"></span><span>PHONK</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Pop"><span class="filter-checkbox"></span><span>POP</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Progressive House"><span class="filter-checkbox"></span><span>PROGRESSIVE HOUSE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="R&B"><span class="filter-checkbox"></span><span>R&B</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Reggaeton"><span class="filter-checkbox"></span><span>REGGAETON</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Riddim"><span class="filter-checkbox"></span><span>RIDDIM</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Synthwave"><span class="filter-checkbox"></span><span>SYNTHWAVE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Tech House"><span class="filter-checkbox"></span><span>TECH HOUSE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Techno"><span class="filter-checkbox"></span><span>TECHNO</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Trance"><span class="filter-checkbox"></span><span>TRANCE</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="Trap"><span class="filter-checkbox"></span><span>TRAP</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="UK Drill"><span class="filter-checkbox"></span><span>UK DRILL</span></button>
                                    <button class="filter-list-item originals-genre-tag" data-genre="UK Garage"><span class="filter-checkbox"></span><span>UK GARAGE</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="filter-section">
                            <div class="filter-section-header" data-section="originals-tags">
                                <span class="filter-section-label">Tags</span>
                                <svg class="filter-section-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </div>
                            <div class="filter-section-content" id="originals-tags-section">
                                <input type="text" class="tags-search" id="originals-tags-search" placeholder="Search tags...">
                                <div class="filter-list" id="originals-trending-tags">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="originals-grid" class="items-grid"></div>
            </div>

            <div id="lounge-content" class="tab-panel">
                <!-- Left Panel: Rooms -->
                <div class="instrument-display" id="lounge-display">
                    <!-- Room List View -->
                    <div class="lounge-panel-content" id="lounge-rooms-view">
                        <!-- My Rooms Section -->
                        <div class="lounge-section">
                            <div class="lounge-section-header">
                                <div class="my-rooms-tabs">
                                    <span class="my-rooms-tab active" data-filter="all">Joined</span>
                                    <span class="my-rooms-tab" data-filter="favorites">Favorites</span>
                                    <span class="my-rooms-tab" data-filter="myroom" id="my-room-tab">My Room</span>
                                    <span class="my-rooms-tab edit-room-tab" id="edit-room-tab">Edit My Room</span>
                                </div>
                            </div>
                            <div class="lounge-my-rooms-list" id="my-rooms-list"></div>
                        </div>

                        <!-- Community Rooms Section -->
                        <div class="lounge-section">
                            <div class="lounge-section-header">
                                <span>Rooms</span>
                                <button class="create-room-btn" id="create-room-btn">Create Room</button>
                            </div>
                            <div class="room-search-container">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                                <input type="text" id="room-search-input" placeholder="Search rooms..." maxlength="50">
                            </div>
                            <div class="lounge-community-list" id="community-rooms-list"></div>
                            <div class="no-rooms-found" id="no-rooms-found" style="display: none;">No rooms found</div>
                        </div>
                    </div>

                    <!-- Room Settings View (hidden by default) -->
                    <div class="lounge-room-settings" id="room-settings" style="display: none;">
                        <div class="settings-header">
                            <button class="settings-back" id="settings-cancel">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                            </button>
                            <span id="settings-title">Create Room</span>
                        </div>

                        <div class="settings-body">
                            <!-- Room Name -->
                            <div class="settings-group">
                                <label class="settings-label">Room Name</label>
                                <input type="text" class="settings-input" id="room-name-input" placeholder="Enter room name..." maxlength="30">
                            </div>

                            <!-- Room Description -->
                            <div class="settings-group">
                                <label class="settings-label">Describe your room <span class="char-count" id="desc-char-count">0/300</span></label>
                                <textarea class="settings-textarea" id="room-description-input" placeholder="What's your room about?" maxlength="300"></textarea>
                            </div>

                            <!-- Room Rules -->
                            <div class="settings-group">
                                <label class="settings-label">Room Rules</label>
                                <div class="rules-inputs">
                                    <div class="rule-input-row">
                                        <span class="rule-number">1.</span>
                                        <input type="text" class="settings-input rule-input" id="room-rule-1" placeholder="Rule 1..." maxlength="100">
                                    </div>
                                    <div class="rule-input-row">
                                        <span class="rule-number">2.</span>
                                        <input type="text" class="settings-input rule-input" id="room-rule-2" placeholder="Rule 2..." maxlength="100">
                                    </div>
                                    <div class="rule-input-row">
                                        <span class="rule-number">3.</span>
                                        <input type="text" class="settings-input rule-input" id="room-rule-3" placeholder="Rule 3..." maxlength="100">
                                    </div>
                                    <div class="rule-input-row">
                                        <span class="rule-number">4.</span>
                                        <input type="text" class="settings-input rule-input" id="room-rule-4" placeholder="Rule 4..." maxlength="100">
                                    </div>
                                    <div class="rule-input-row">
                                        <span class="rule-number">5.</span>
                                        <input type="text" class="settings-input rule-input" id="room-rule-5" placeholder="Rule 5..." maxlength="100">
                                    </div>
                                </div>
                            </div>

                            <!-- Room Icon -->
                            <div class="settings-group">
                                <label class="settings-label">Room Icon</label>
                                <div class="upload-card" id="icon-upload-card">
                                    <input type="file" id="room-icon-upload" accept="image/*" hidden>
                                    <div class="upload-preview-large" id="room-icon-preview">
                                        <svg viewBox="0 0 24 24" width="32" height="32" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="4"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                                    </div>
                                    <span class="upload-card-text">Click to upload icon</span>
                                </div>
                            </div>

                        </div>

                        <div class="settings-footer">
                            <button type="button" class="btn-create" id="settings-create">
                                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
                                <span id="settings-btn-text">Create Room</span>
                            </button>
                            <button type="button" class="btn-delete-room" id="delete-room-btn" style="display: none;">
                                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
                                <span>Delete Room</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Center: Chat Area -->
                <div class="lounge-chat-area">
                    <div class="chat-header">
                        <div class="chat-header-info">
                            <div class="chat-room-icon" id="chat-room-icon">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8z"/></svg>
                            </div>
                            <span class="chat-room-name" id="chat-room-name">Welcome to hell</span>
                        </div>
                        <div class="chat-header-actions">
                            <button class="chat-header-btn invite-btn" id="invite-to-room-btn" title="Invite">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
                                <span>Invite</span>
                            </button>
                            <button class="chat-header-btn leave-btn" id="leave-room-btn" title="Leave">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                                <span>Leave</span>
                            </button>
                        </div>
                    </div>

                    <div class="lounge-messages" id="lounge-messages">
                    </div>

                    <div class="chat-input-container">
                        <div class="reply-preview-bar" id="reply-preview-bar" style="display: none;">
                            <div class="reply-preview-content">
                                <div class="reply-preview-label">Replying to <span id="reply-to-username"></span></div>
                                <div class="reply-preview-text" id="reply-preview-text"></div>
                            </div>
                            <button class="reply-cancel-btn" id="reply-cancel-btn" title="Cancel reply">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                            </button>
                        </div>
                        <div class="typing-indicator" id="lounge-typing-indicator">
                            <div class="typing-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                            <span class="typing-text"><strong>Someone</strong> is typing...</span>
                        </div>
                        <div class="chat-input-wrapper">
                            <button class="input-btn" id="lounge-image-btn" title="Upload Image">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                            </button>
                            <input type="text" id="lounge-input" placeholder="Message #Welcome to hell" autocomplete="off" maxlength="500">
                            <div class="input-actions">
                                <button class="input-btn" id="lounge-emoji-btn" title="Emoji">
                                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>
                                </button>
                                <!-- Emoji Picker -->
                                <div class="emoji-picker" id="lounge-emoji-picker" style="display: none;">
                                    <div class="emoji-picker-header">Emojis</div>
                                    <div class="emoji-picker-grid"></div>
                                </div>
                                <button class="input-btn send-btn" id="lounge-post-btn" title="Send">
                                    <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                                </button>
                            </div>
                        </div>
                        <input type="file" id="lounge-image-input" accept="image/*,image/gif" style="display:none;">
                    </div>
                </div>

                <!-- Right Panel: Members & Rules -->
                <div class="lounge-right-panel" id="lounge-right-panel">
                    <!-- Room Info -->
                    <div class="right-panel-section room-info-section">
                        <h3 class="room-info-name" id="room-info-name">Welcome to hell</h3>
                        <p class="room-info-description" id="room-info-description">A place to hang out and share music.</p>
                    </div>

                    <div class="right-panel-section">
                        <div class="section-header">
                            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>
                            <span>Rules</span>
                        </div>
                        <div class="rules-list" id="room-rules-list">
                            <div class="rule-item">
                                <span class="rule-number">1</span>
                                <span>Be respectful to all members</span>
                            </div>
                            <div class="rule-item">
                                <span class="rule-number">2</span>
                                <span>No spam or self-promotion</span>
                            </div>
                            <div class="rule-item">
                                <span class="rule-number">3</span>
                                <span>Keep conversations on topic</span>
                            </div>
                        </div>
                    </div>

                    <div class="right-panel-section">
                        <div class="section-header">
                            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                            <span>Members</span>
                            <span class="member-count" id="room-member-count">0 online</span>
                        </div>
                        <div class="members-list" id="room-members-list">
                        </div>
                    </div>
                </div>
            </div>

            <div id="notifications-content" class="tab-panel">
                <!-- Left Panel: Conversations -->
                <div class="dm-left-panel" id="messages-display">
                    <div class="dm-panel-content">
                        <div class="dm-section">
                            <div class="dm-section-header">
                                <span>Notifications</span>
                                <div class="notif-tabs">
                                    <button class="notif-tab active" data-filter="unread">Unread</button>
                                    <button class="notif-tab" data-filter="read">Read</button>
                                    <button class="clear-feed-btn hidden" id="clear-notifications-btn" data-action="clearReadNotifications">Clear Feed</button>
                                </div>
                            </div>
                            <div class="notifications-list" id="notifications-list">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Center: Active Conversation -->
                <div class="dm-chat-area" id="dm-chat-area">
                    <div class="dm-chat-header">
                        <div class="dm-chat-header-info">
                            <div class="dm-header-avatar online" id="dm-header-avatar">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            </div>
                            <div class="dm-header-text">
                                <span class="dm-user-name dm-clickable-user" id="dm-user-name" data-action="view-profile"></span>
                                <span class="dm-status" id="dm-user-status"></span>
                            </div>
                        </div>
                        <div class="dm-chat-header-actions">
                            <button class="dm-action-btn" title="View Profile" id="dm-view-profile-btn" data-action="view-profile">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            </button>
                        </div>
                    </div>

                    <div class="dm-messages" id="dm-messages">
                    </div>

                    <!-- Notification Detail View (hidden by default) -->
                    <div id="notification-detail-view" class="hidden">
                        <!-- Sound Activity View -->
                        <div id="sound-activity-view" class="hidden">
                            <div class="activity-header">
                                <div class="activity-sound-info">
                                    <div class="activity-sound-cover" id="activity-sound-cover"></div>
                                    <div class="activity-sound-details">
                                        <div class="activity-sound-title" id="activity-sound-title">Sound Title</div>
                                        <div class="activity-sound-uploader" id="activity-sound-uploader">by Username</div>
                                    </div>
                                </div>
                                <button class="activity-back-btn" data-action="closeNotificationDetailView">
                                    <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                                    Back
                                </button>
                            </div>
                            <div class="activity-tabs">
                                <button class="activity-tab active" data-filter="all">All</button>
                                <button class="activity-tab" data-filter="likes"><strong id="activity-likes">0</strong> Likes</button>
                                <button class="activity-tab" data-filter="comments"><strong id="activity-comments">0</strong> Comments</button>
                                <button class="activity-tab" data-filter="saves"><strong id="activity-saves">0</strong> Saves</button>
                                <button class="activity-tab" data-filter="shares"><strong id="activity-shares">0</strong> Shares</button>
                            </div>
                            <div class="activity-feed" id="activity-feed">
                                <!-- Activity items will be rendered here -->
                            </div>
                        </div>

                        <!-- Room Invite View -->
                        <div id="room-invite-view" class="hidden">
                            <div class="invite-header">
                                <button class="activity-back-btn" data-action="closeNotificationDetailView">
                                    <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                                    Back
                                </button>
                            </div>
                            <div class="invite-content">
                                <div class="invite-icon">
                                    <svg viewBox="0 0 24 24" width="64" height="64" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                        <circle cx="9" cy="7" r="4"/>
                                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                                    </svg>
                                </div>
                                <div class="invite-title">Room Invitation</div>
                                <div class="invite-room-name" id="invite-room-name">Room Name</div>
                                <div class="invite-from">Invited by <span id="invite-from-user">Username</span></div>
                                <div class="invite-actions">
                                    <button class="invite-decline-btn" data-action="declineRoomInvite">Decline</button>
                                    <button class="invite-accept-btn" data-action="acceptRoomInvite">Accept</button>
                                </div>
                                <a class="invite-go-link hidden" id="invite-go-link" href="#">Go to Room</a>
                            </div>
                        </div>
                    </div>

                    <div class="dm-input-container">
                        <input type="file" id="dm-image-input" accept="image/*" style="display: none;">
                        <div class="dm-input-wrapper">
                            <button class="dm-input-btn" id="dm-image-btn" title="Send Image">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                            </button>
                            <input type="text" id="dm-input" class="dm-input" placeholder="Type a message..." autocomplete="off">
                            <div class="dm-input-actions">
                                <button class="dm-input-btn" id="dm-emoji-btn" title="Emoji">
                                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>
                                </button>
                                <!-- DM Emoji Picker -->
                                <div class="emoji-picker" id="dm-emoji-picker" style="display: none;">
                                    <div class="emoji-picker-header">Emojis</div>
                                    <div class="emoji-picker-grid"></div>
                                </div>
                                <button class="dm-input-btn dm-send-btn" id="dm-post-btn" title="Send">
                                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Panel: Friends / Contacts -->
                <div class="dm-right-panel" id="friends-panel">
                    <div class="dm-panel-section">
                        <div class="dm-section-header">
                            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                            <span>Friends</span>
                            <span class="dm-friend-count" id="dm-friend-count">0</span>
                        </div>
                        <div class="dm-search-container">
                            <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                            <input type="text" class="dm-search-input" id="friends-search" placeholder="Search friends...">
                        </div>
                        <div class="dm-friends-list" id="dm-friends-list">
                        </div>
                    </div>

                    <div class="dm-panel-section">
                        <div class="dm-section-header">
                            <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></svg>
                            <span>Messages</span>
                            <button class="dm-add-btn" id="new-message-btn" title="New Message">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                            </button>
                        </div>
                        <div class="dm-search-container">
                            <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                            <input type="text" class="dm-search-input" id="messages-search" placeholder="Search messages...">
                        </div>
                        <div class="conversations-list" id="conversations-list">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Junkies (User Directory) -->
            <div id="junkies-content" class="tab-panel">
                <div class="junkies-page">
                    <!-- Alphabet Filter -->
                    <div class="junkies-alphabet-filter">
                        <button class="alphabet-btn active" data-letter="all">all</button>
                        <button class="alphabet-btn" data-letter="A">A</button>
                        <button class="alphabet-btn" data-letter="B">B</button>
                        <button class="alphabet-btn" data-letter="C">C</button>
                        <button class="alphabet-btn" data-letter="D">D</button>
                        <button class="alphabet-btn" data-letter="E">E</button>
                        <button class="alphabet-btn" data-letter="F">F</button>
                        <button class="alphabet-btn" data-letter="G">G</button>
                        <button class="alphabet-btn" data-letter="H">H</button>
                        <button class="alphabet-btn" data-letter="I">I</button>
                        <button class="alphabet-btn" data-letter="J">J</button>
                        <button class="alphabet-btn" data-letter="K">K</button>
                        <button class="alphabet-btn" data-letter="L">L</button>
                        <button class="alphabet-btn" data-letter="M">M</button>
                        <button class="alphabet-btn" data-letter="N">N</button>
                        <button class="alphabet-btn" data-letter="O">O</button>
                        <button class="alphabet-btn" data-letter="P">P</button>
                        <button class="alphabet-btn" data-letter="Q">Q</button>
                        <button class="alphabet-btn" data-letter="R">R</button>
                        <button class="alphabet-btn" data-letter="S">S</button>
                        <button class="alphabet-btn" data-letter="T">T</button>
                        <button class="alphabet-btn" data-letter="U">U</button>
                        <button class="alphabet-btn" data-letter="V">V</button>
                        <button class="alphabet-btn" data-letter="W">W</button>
                        <button class="alphabet-btn" data-letter="X">X</button>
                        <button class="alphabet-btn" data-letter="Y">Y</button>
                        <button class="alphabet-btn" data-letter="Z">Z</button>
                    </div>

                    <!-- Users Grid -->
                    <div class="junkies-grid" id="junkies-grid">
                        <!-- User cards will be populated by JavaScript -->
                    </div>

                    <!-- Pagination -->
                    <div class="junkies-pagination" id="junkies-pagination">
                        <!-- Pagination will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <div id="profile-content" class="tab-panel">
                <div class="profile-layout">
                <div class="profile-page">
                    <!-- Banner -->
                    <div class="profile-banner" id="profile-banner-section">
                        <button class="profile-close-btn hidden" id="profile-close-btn" data-action="closeProfileOverlay"></button>
                        <button class="profile-back-to-btn hidden" id="profile-back-to-btn" data-action="goBackToParentProfile">
                            <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                            <span id="profile-back-to-text">Back to profile</span>
                        </button>
                        <label class="profile-banner-upload" id="profile-banner-upload" for="profile-banner-input">
                            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
                        </label>
                        <input type="file" id="profile-banner-input" accept="image/*,image/gif" style="display:none;">
                        <div class="profile-actions" id="profile-actions">
                            <button class="profile-action-btn primary" id="profile-follow-btn">Follow</button>
                            <button class="profile-action-btn secondary" id="profile-message-btn">Message</button>
                        </div>
                    </div>

                    <!-- Header: Avatar + Info -->
                    <div class="profile-header">
                        <div class="profile-avatar" id="profile-avatar">
                            <svg viewBox="0 0 24 24" fill="currentColor" class="profile-avatar-placeholder">
                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                            <label class="profile-avatar-upload" for="profile-avatar-input">
                                <svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
                            </label>
                            <input type="file" id="profile-avatar-input" accept="image/*" style="display:none;">
                        </div>
                        <div class="profile-info">
                            <h1 class="profile-username" id="profile-username">Username</h1>
                            <div class="profile-stats-inline">
                                <span class="profile-stat-inline profile-stat-clickable" data-action="showProfileFollowers"><strong id="profile-followers">152</strong> Followers</span>
                                <span class="profile-stat-inline profile-stat-clickable" data-action="showProfileFollowing"><strong id="profile-following">89</strong> Following</span>
                                <span class="profile-stat-inline"><strong id="profile-uploads">12</strong> Uploads</span>
                                <span class="profile-stat-inline"><strong id="profile-downloads">847</strong> Downloads</span>
                            </div>
                            <p class="profile-bio" id="profile-about">No bio yet.</p>
                        </div>
                    </div>

                    <!-- Tabs -->
                    <div class="profile-tabs">
                        <button class="profile-tab active" data-tab="uploads">Uploads</button>
                        <button class="profile-tab" data-tab="likes">Likes</button>
                        <button class="profile-tab hidden" data-tab="comments" id="profile-comments-tab">Comments</button>
                        <button class="profile-tab" data-tab="followers" id="profile-followers-tab">Followers</button>
                        <button class="profile-tab" data-tab="following" id="profile-following-tab">Following</button>
                    </div>

                    <!-- Tab Content -->
                    <div class="profile-tab-content">
                        <!-- Uploads Panel -->
                        <div class="profile-panel active" id="profile-uploads-panel">
                            <div class="profile-upload-filters">
                                <button class="profile-upload-filter active" data-filter="all">All</button>
                                <button class="profile-upload-filter" data-filter="presets">Presets</button>
                                <button class="profile-upload-filter" data-filter="samples">Samples</button>
                                <button class="profile-upload-filter" data-filter="midi">MIDI</button>
                                <button class="profile-upload-filter" data-filter="projects">Projects</button>
                                <button class="profile-upload-filter" data-filter="originals">Originals</button>
                            </div>
                            <div class="profile-category-cards">
                                <!-- Dynamic cards rendered by JS based on user uploads -->
                            </div>
                        </div>

                        <!-- Likes Panel -->
                        <div class="profile-panel" id="profile-likes-panel">
                            <div class="profile-likes-filters">
                                <button class="profile-likes-filter active" data-filter="presets">Presets</button>
                                <button class="profile-likes-filter" data-filter="samples">Samples</button>
                                <button class="profile-likes-filter" data-filter="midi">MIDI</button>
                                <button class="profile-likes-filter" data-filter="projects">Projects</button>
                            </div>
                            <div class="profile-likes-cards">
                                <!-- Dynamic cards rendered by JS based on liked items -->
                            </div>
                        </div>

                        <!-- Comments Panel -->
                        <div class="profile-panel" id="profile-comments-panel">
                            <!-- Now Playing Info Container -->
                            <div class="profile-now-playing-container" id="profile-now-playing-container">
                                <div class="profile-now-playing-cover" id="profile-now-playing-cover">
                                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                                </div>
                                <div class="profile-now-playing-details">
                                    <div class="profile-now-playing-user">
                                        <span class="profile-now-playing-username" id="profile-now-playing-username">Username</span>
                                    </div>
                                    <div class="profile-now-playing-label">
                                        <span class="now-playing-dot"></span>
                                        NOW PLAYING
                                    </div>
                                    <div class="profile-now-playing-title" id="profile-now-playing-title">Track Title</div>
                                </div>
                            </div>
                            <div class="profile-comments-header">
                                <span>COMMENTS</span>
                                <span class="profile-comments-count" id="profile-comments-count">0</span>
                            </div>
                            <div class="profile-comments-list" id="profile-comments-list">
                                <div class="profile-comments-empty">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor" opacity="0.3">
                                        <path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>
                                    </svg>
                                    <div class="profile-comments-empty-text">No comments yet</div>
                                    <div class="profile-comments-empty-subtext">Be the first to share your thoughts</div>
                                </div>
                            </div>
                            <div class="profile-comments-input-row">
                                <textarea id="profile-comments-input" placeholder="Add a comment..." rows="1"></textarea>
                                <button class="emoji-btn" id="profile-emoji-btn" title="Emoji">
                                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>
                                </button>
                                <button class="photo-btn" id="profile-photo-btn" title="Add Photo">
                                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                                </button>
                                <div class="emoji-picker" id="profile-emoji-picker" style="display: none;">
                                    <div class="emoji-picker-header">Emojis</div>
                                    <div class="emoji-picker-grid"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Followers Panel -->
                        <div class="profile-panel" id="profile-followers-panel">
                            <div class="profile-users-header">
                                <span>FOLLOWERS</span>
                                <span class="profile-users-count" id="profile-followers-count">0</span>
                                <div class="profile-users-az-filter" id="followers-az-filter">
                                    <button class="az-filter-btn active" data-letter="all">All</button>
                                    <button class="az-filter-btn" data-letter="A">A</button>
                                    <button class="az-filter-btn" data-letter="B">B</button>
                                    <button class="az-filter-btn" data-letter="C">C</button>
                                    <button class="az-filter-btn" data-letter="D">D</button>
                                    <button class="az-filter-btn" data-letter="E">E</button>
                                    <button class="az-filter-btn" data-letter="F">F</button>
                                    <button class="az-filter-btn" data-letter="G">G</button>
                                    <button class="az-filter-btn" data-letter="H">H</button>
                                    <button class="az-filter-btn" data-letter="I">I</button>
                                    <button class="az-filter-btn" data-letter="J">J</button>
                                    <button class="az-filter-btn" data-letter="K">K</button>
                                    <button class="az-filter-btn" data-letter="L">L</button>
                                    <button class="az-filter-btn" data-letter="M">M</button>
                                    <button class="az-filter-btn" data-letter="N">N</button>
                                    <button class="az-filter-btn" data-letter="O">O</button>
                                    <button class="az-filter-btn" data-letter="P">P</button>
                                    <button class="az-filter-btn" data-letter="Q">Q</button>
                                    <button class="az-filter-btn" data-letter="R">R</button>
                                    <button class="az-filter-btn" data-letter="S">S</button>
                                    <button class="az-filter-btn" data-letter="T">T</button>
                                    <button class="az-filter-btn" data-letter="U">U</button>
                                    <button class="az-filter-btn" data-letter="V">V</button>
                                    <button class="az-filter-btn" data-letter="W">W</button>
                                    <button class="az-filter-btn" data-letter="X">X</button>
                                    <button class="az-filter-btn" data-letter="Y">Y</button>
                                    <button class="az-filter-btn" data-letter="Z">Z</button>
                                </div>
                            </div>
                            <div class="profile-users-grid" id="profile-followers-grid">
                                <div class="profile-users-empty">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor" opacity="0.3">
                                        <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                                    </svg>
                                    <div class="profile-users-empty-text">No followers yet</div>
                                </div>
                            </div>
                        </div>

                        <!-- Following Panel -->
                        <div class="profile-panel" id="profile-following-panel">
                            <div class="profile-users-header">
                                <span>FOLLOWING</span>
                                <span class="profile-users-count" id="profile-following-count">0</span>
                                <div class="profile-users-az-filter" id="following-az-filter">
                                    <button class="az-filter-btn active" data-letter="all">All</button>
                                    <button class="az-filter-btn" data-letter="A">A</button>
                                    <button class="az-filter-btn" data-letter="B">B</button>
                                    <button class="az-filter-btn" data-letter="C">C</button>
                                    <button class="az-filter-btn" data-letter="D">D</button>
                                    <button class="az-filter-btn" data-letter="E">E</button>
                                    <button class="az-filter-btn" data-letter="F">F</button>
                                    <button class="az-filter-btn" data-letter="G">G</button>
                                    <button class="az-filter-btn" data-letter="H">H</button>
                                    <button class="az-filter-btn" data-letter="I">I</button>
                                    <button class="az-filter-btn" data-letter="J">J</button>
                                    <button class="az-filter-btn" data-letter="K">K</button>
                                    <button class="az-filter-btn" data-letter="L">L</button>
                                    <button class="az-filter-btn" data-letter="M">M</button>
                                    <button class="az-filter-btn" data-letter="N">N</button>
                                    <button class="az-filter-btn" data-letter="O">O</button>
                                    <button class="az-filter-btn" data-letter="P">P</button>
                                    <button class="az-filter-btn" data-letter="Q">Q</button>
                                    <button class="az-filter-btn" data-letter="R">R</button>
                                    <button class="az-filter-btn" data-letter="S">S</button>
                                    <button class="az-filter-btn" data-letter="T">T</button>
                                    <button class="az-filter-btn" data-letter="U">U</button>
                                    <button class="az-filter-btn" data-letter="V">V</button>
                                    <button class="az-filter-btn" data-letter="W">W</button>
                                    <button class="az-filter-btn" data-letter="X">X</button>
                                    <button class="az-filter-btn" data-letter="Y">Y</button>
                                    <button class="az-filter-btn" data-letter="Z">Z</button>
                                </div>
                            </div>
                            <div class="profile-users-grid" id="profile-following-grid">
                                <div class="profile-users-empty">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor" opacity="0.3">
                                        <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                                    </svg>
                                    <div class="profile-users-empty-text">Not following anyone yet</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Panel: Content Grid -->
                <div class="profile-content-panel">
                    <!-- Profile playing backdrop -->
                    <div class="profile-playing-backdrop" id="profile-playing-backdrop"></div>
                    <div class="profile-content-header">
                        <h3 id="profile-content-title">Presets</h3>
                    </div>
                    <div class="profile-content-grid" id="profile-content-grid">
                        <div class="profile-empty-state">
                            <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
                            <span>No uploads yet</span>
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>

            <!-- MANAGE SOUNDS PAGE -->
            <div id="manage-sounds-content" class="tab-panel">
                <!-- Left Panel - Filters -->
                <div class="manage-sounds-filters" id="manage-sounds-filters">
                    <div class="manage-sounds-filters-header">
                        <h3>Filters</h3>
                    </div>
                    <div class="manage-sounds-filter-section">
                        <label class="manage-sounds-filter-label">Category</label>
                        <select class="manage-sounds-select" id="manage-filter-category">
                            <option value="all">All Categories</option>
                            <option value="presets">Presets</option>
                            <option value="samples">Samples</option>
                            <option value="midi">MIDI</option>
                            <option value="projects">Projects</option>
                        </select>
                    </div>
                    <!-- Presets/MIDI: Synthesizer -->
                    <div class="manage-sounds-filter-section hidden" id="manage-vst-filter-section">
                        <label class="manage-sounds-filter-label">Synthesizer</label>
                        <select class="manage-sounds-select" id="manage-filter-vst">
                            <option value="all">All Synthesizers</option>
                        </select>
                    </div>
                    <!-- Presets: Sound Type -->
                    <div class="manage-sounds-filter-section hidden" id="manage-type-filter-section">
                        <label class="manage-sounds-filter-label">Sound Type</label>
                        <select class="manage-sounds-select" id="manage-filter-type">
                            <option value="all">All Types</option>
                        </select>
                    </div>
                    <!-- Samples: Loop Type -->
                    <div class="manage-sounds-filter-section hidden" id="manage-looptype-filter-section">
                        <label class="manage-sounds-filter-label">Sample Type</label>
                        <select class="manage-sounds-select" id="manage-filter-looptype">
                            <option value="all">All Types</option>
                            <option value="Loop">Loop</option>
                            <option value="One Shot">One Shot</option>
                        </select>
                    </div>
                    <!-- Samples: Key -->
                    <div class="manage-sounds-filter-section hidden" id="manage-key-filter-section">
                        <label class="manage-sounds-filter-label">Key</label>
                        <select class="manage-sounds-select" id="manage-filter-key">
                            <option value="all">All Keys</option>
                        </select>
                    </div>
                    <!-- Projects: DAW -->
                    <div class="manage-sounds-filter-section hidden" id="manage-daw-filter-section">
                        <label class="manage-sounds-filter-label">DAW</label>
                        <select class="manage-sounds-select" id="manage-filter-daw">
                            <option value="all">All DAWs</option>
                        </select>
                    </div>
                    <!-- Projects: Genre -->
                    <div class="manage-sounds-filter-section hidden" id="manage-genre-filter-section">
                        <label class="manage-sounds-filter-label">Genre</label>
                        <select class="manage-sounds-select" id="manage-filter-genre">
                            <option value="all">All Genres</option>
                        </select>
                    </div>
                    <button class="manage-sounds-clear-btn" id="manage-clear-filters">Clear Filters</button>
                </div>

                <!-- Center - Grid -->
                <div class="manage-sounds-center">
                    <!-- Tabs for Uploads vs Saved -->
                    <div class="manage-sounds-tabs">
                        <button class="manage-sounds-tab active" data-tab="uploads">My Uploads</button>
                        <button class="manage-sounds-tab" data-tab="saved">Saved Sounds</button>
                    </div>
                    <div class="manage-sounds-header">
                        <div class="manage-sounds-header-left">
                            <label class="manage-sounds-select-all">
                                <input type="checkbox" id="manage-select-all">
                                <span>Select All</span>
                            </label>
                            <span class="manage-sounds-count" id="manage-sounds-count">0 sounds</span>
                        </div>
                        <button class="manage-sounds-delete-selected hidden" id="manage-delete-selected">
                            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            </svg>
                            Delete Selected (<span id="manage-selected-count">0</span>)
                        </button>
                    </div>
                    <div class="manage-sounds-grid" id="manage-sounds-grid">
                        <!-- Cards will be rendered here -->
                    </div>
                    <div class="manage-sounds-pagination" id="manage-sounds-pagination">
                        <!-- Pagination will be rendered here -->
                    </div>
                    <div class="manage-sounds-empty hidden" id="manage-sounds-empty">
                        <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M9 18V5l12-2v13"/>
                            <circle cx="6" cy="18" r="3"/>
                            <circle cx="18" cy="16" r="3"/>
                        </svg>
                        <span>No uploads yet</span>
                        <p>Sounds you upload will appear here</p>
                    </div>
                </div>

                <!-- Right Panel - Edit -->
                <div class="manage-sounds-edit-panel" id="manage-sounds-edit-panel">
                    <div class="manage-sounds-edit-header">
                        <h3>Edit Sound</h3>
                    </div>

                    <!-- Empty State -->
                    <div class="manage-sounds-edit-empty" id="manage-edit-empty">
                        <svg viewBox="0 0 24 24" width="40" height="40" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                        </svg>
                        <span>Select a sound to edit</span>
                    </div>

                    <!-- Edit Form -->
                    <div class="manage-sounds-edit-form hidden" id="manage-edit-form">
                        <div class="manage-edit-group">
                            <label class="manage-edit-label">Title <span class="required">*</span></label>
                            <input type="text" class="manage-edit-input" id="manage-edit-title" maxlength="25">
                            <span class="char-count" id="manage-edit-title-count">0/25</span>
                        </div>

                        <div class="manage-edit-group" id="manage-edit-vst-group">
                            <label class="manage-edit-label">Synthesizer <span class="required">*</span></label>
                            <div class="manage-edit-autocomplete-wrapper">
                                <input type="text" class="manage-edit-input manage-edit-autocomplete" id="manage-edit-vst" data-autocomplete="vst" autocomplete="off">
                                <div class="manage-edit-autocomplete-dropdown" id="manage-edit-vst-dropdown"></div>
                            </div>
                        </div>

                        <div class="manage-edit-group" id="manage-edit-type-group">
                            <label class="manage-edit-label">Sound Type <span class="required">*</span></label>
                            <div class="manage-edit-autocomplete-wrapper">
                                <input type="text" class="manage-edit-input manage-edit-autocomplete" id="manage-edit-type" data-autocomplete="soundType" autocomplete="off">
                                <div class="manage-edit-autocomplete-dropdown" id="manage-edit-type-dropdown"></div>
                            </div>
                        </div>

                        <!-- Sample-specific fields -->
                        <div class="manage-edit-group hidden" id="manage-edit-sample-type-group">
                            <label class="manage-edit-label">Sample Type <span class="required">*</span></label>
                            <select class="manage-edit-input" id="manage-edit-loop-type">
                                <option value="">Select...</option>
                                <option value="Loop">Loop</option>
                                <option value="One Shot">One Shot</option>
                            </select>
                        </div>

                        <div class="manage-edit-group hidden" id="manage-edit-key-group">
                            <label class="manage-edit-label">Key <span class="required">*</span></label>
                            <div class="manage-edit-autocomplete-wrapper">
                                <input type="text" class="manage-edit-input manage-edit-autocomplete" id="manage-edit-key" data-autocomplete="key" autocomplete="off">
                                <div class="manage-edit-autocomplete-dropdown" id="manage-edit-key-dropdown"></div>
                            </div>
                        </div>

                        <div class="manage-edit-group hidden" id="manage-edit-bpm-group">
                            <label class="manage-edit-label">BPM <span class="required">*</span></label>
                            <input type="number" class="manage-edit-input" id="manage-edit-bpm" placeholder="120">
                        </div>

                        <!-- Project-specific fields -->
                        <div class="manage-edit-group hidden" id="manage-edit-daw-group">
                            <label class="manage-edit-label">DAW <span class="required">*</span></label>
                            <div class="manage-edit-autocomplete-wrapper">
                                <input type="text" class="manage-edit-input manage-edit-autocomplete" id="manage-edit-daw" data-autocomplete="daw" autocomplete="off">
                                <div class="manage-edit-autocomplete-dropdown" id="manage-edit-daw-dropdown"></div>
                            </div>
                        </div>

                        <div class="manage-edit-group hidden" id="manage-edit-tempo-group">
                            <label class="manage-edit-label">Tempo <span class="required">*</span></label>
                            <input type="number" class="manage-edit-input" id="manage-edit-tempo" placeholder="BPM">
                        </div>

                        <div class="manage-edit-group hidden" id="manage-edit-scale-group">
                            <label class="manage-edit-label">Scale <span class="required">*</span></label>
                            <div class="manage-edit-autocomplete-wrapper">
                                <input type="text" class="manage-edit-input manage-edit-autocomplete" id="manage-edit-scale" data-autocomplete="scale" autocomplete="off">
                                <div class="manage-edit-autocomplete-dropdown" id="manage-edit-scale-dropdown"></div>
                            </div>
                        </div>

                        <div class="manage-edit-group hidden" id="manage-edit-genre-group">
                            <label class="manage-edit-label">Genre <span class="required">*</span></label>
                            <div class="manage-edit-autocomplete-wrapper">
                                <input type="text" class="manage-edit-input manage-edit-autocomplete" id="manage-edit-genre" data-autocomplete="genre" autocomplete="off">
                                <div class="manage-edit-autocomplete-dropdown" id="manage-edit-genre-dropdown"></div>
                            </div>
                        </div>

                        <div class="manage-edit-group">
                            <label class="manage-edit-label">Tags</label>
                            <div class="manage-edit-tags-container" id="manage-edit-tags-container">
                                <input type="text" class="manage-edit-tags-input" id="manage-edit-tag-input" placeholder="Type tag, then comma + space...">
                            </div>
                        </div>

                        <div class="manage-edit-group">
                            <label class="manage-edit-label">Description</label>
                            <textarea class="manage-edit-textarea" id="manage-edit-description" rows="3" maxlength="100"></textarea>
                            <span class="char-count" id="manage-edit-desc-count">0/100</span>
                        </div>

                        <div class="manage-edit-actions">
                            <button class="manage-edit-save-btn" id="manage-edit-save">Save Changes</button>
                            <button class="manage-edit-delete-btn" id="manage-edit-delete">Delete Sound</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Delete Confirmation Modal -->
            <div class="modal hidden" id="manage-delete-modal">
                <div class="modal-content settings-modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Delete Sounds</h3>
                        <button class="close-btn" id="close-manage-delete-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="settings-delete-warning">
                            <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="#ff4757" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="12" y1="8" x2="12" y2="12"/>
                                <line x1="12" y1="16" x2="12.01" y2="16"/>
                            </svg>
                            <p id="manage-delete-message">Are you sure you want to delete this sound? This cannot be undone.</p>
                        </div>
                        <div class="manage-delete-actions">
                            <button class="settings-btn" id="manage-delete-cancel">Cancel</button>
                            <button class="settings-btn settings-btn-danger" id="manage-delete-confirm">Delete</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SETTINGS PAGE -->
            <div id="settings-content" class="tab-panel">
                <div class="settings-page">
                    <div class="settings-container">
                        <h1 class="settings-title">Settings</h1>

                        <!-- Account Settings -->
                        <div class="settings-section">
                            <h2 class="settings-section-title">Account</h2>

                            <!-- Change Username -->
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <label class="settings-item-label">Username</label>
                                    <span class="settings-item-value" id="settings-current-username">Username</span>
                                </div>
                                <button class="settings-btn" id="settings-change-username-btn">Change</button>
                            </div>

                            <!-- Change Email -->
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <label class="settings-item-label">Email</label>
                                    <span class="settings-item-value" id="settings-current-email">Not set</span>
                                </div>
                                <button class="settings-btn" id="settings-change-email-btn">Change</button>
                            </div>

                            <!-- Change Password -->
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <label class="settings-item-label">Password</label>
                                    <span class="settings-item-value"></span>
                                </div>
                                <button class="settings-btn" id="settings-change-password-btn">Change</button>
                            </div>

                            <!-- Bio -->
                            <div class="settings-item settings-item-bio">
                                <div class="settings-item-info">
                                    <label class="settings-item-label">Bio</label>
                                    <span class="settings-item-desc">Write a short bio for your profile</span>
                                </div>
                                <div class="settings-bio-input-wrap">
                                    <textarea class="settings-bio-input" id="settings-bio-input" placeholder="Tell others about yourself..." maxlength="150"></textarea>
                                    <span class="settings-bio-count"><span id="settings-bio-count">0</span>/150</span>
                                </div>
                                <button class="settings-btn" id="settings-save-bio-btn">Save</button>
                            </div>
                        </div>

                        <!-- Privacy Settings -->
                        <div class="settings-section">
                            <h2 class="settings-section-title">Privacy</h2>

                            <!-- DM Settings -->
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <label class="settings-item-label">Allow DMs from</label>
                                    <span class="settings-item-desc">Control who can send you direct messages</span>
                                </div>
                                <select class="settings-select" id="settings-dm-privacy">
                                    <option value="everyone">Everyone</option>
                                    <option value="followers">Followers Only</option>
                                    <option value="nobody">Nobody</option>
                                </select>
                            </div>
                        </div>

                        <!-- Contact Support -->
                        <div class="settings-section">
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <label class="settings-item-label">Contact Support</label>
                                </div>
                                <a href="mailto:Nathan@presetjunkies.com" class="settings-btn" style="text-decoration: none; text-align: center;">Contact</a>
                            </div>
                        </div>

                        <!-- Report Bug -->
                        <div class="settings-section">
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <label class="settings-item-label">Report a Bug</label>
                                </div>
                                <button class="settings-btn" id="settings-report-bug-btn">Report Bug</button>
                            </div>
                        </div>

                        <!-- Delete Account -->
                        <div class="settings-section">
                            <div class="settings-item">
                                <div class="settings-item-info">
                                    <label class="settings-item-label">Delete Account</label>
                                </div>
                                <button class="settings-btn settings-btn-danger" id="settings-delete-account-btn">Delete Account</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Change Username Modal -->
            <div class="modal hidden" id="change-username-modal">
                <div class="modal-content settings-modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Change Username</h3>
                        <button class="close-btn" id="close-username-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="settings-form-group">
                            <label class="settings-form-label">New Username</label>
                            <input type="text" class="settings-form-input" id="new-username-input" placeholder="Enter new username..." maxlength="18">
                            <span class="settings-form-error" id="new-username-error"></span>
                        </div>
                        <button class="settings-form-submit" id="save-username-btn">Save Username</button>
                    </div>
                </div>
            </div>

            <!-- Change Email Modal -->
            <div class="modal hidden" id="change-email-modal">
                <div class="modal-content settings-modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Change Email</h3>
                        <button class="close-btn" id="close-email-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="settings-form-group">
                            <label class="settings-form-label">Current Email</label>
                            <div class="settings-current-value" id="modal-current-email-masked">Not set</div>
                        </div>
                        <div class="settings-form-group">
                            <label class="settings-form-label">Verify Password</label>
                            <input type="password" class="settings-form-input" id="email-verify-password" placeholder="Enter your password..." autocomplete="off">
                        </div>
                        <div class="settings-form-group">
                            <label class="settings-form-label">New Email</label>
                            <input type="email" class="settings-form-input" id="new-email-input" placeholder="Enter new email..." required maxlength="100">
                            <span class="settings-form-error" id="new-email-error"></span>
                        </div>
                        <button class="settings-form-submit" id="save-email-btn">Save Email</button>
                    </div>
                </div>
            </div>

            <!-- Change Password Modal -->
            <div class="modal hidden" id="change-password-modal">
                <div class="modal-content settings-modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Change Password</h3>
                        <button class="close-btn" id="close-password-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="settings-form-group">
                            <label class="settings-form-label">Current Password</label>
                            <input type="password" class="settings-form-input" id="current-password-input" placeholder="Enter current password..." autocomplete="off">
                        </div>
                        <div class="settings-form-group">
                            <label class="settings-form-label">New Password</label>
                            <input type="password" class="settings-form-input" id="new-password-input" placeholder="Enter new password..." autocomplete="off">
                        </div>
                        <div class="settings-form-group">
                            <label class="settings-form-label">Confirm New Password</label>
                            <input type="password" class="settings-form-input" id="confirm-password-input" placeholder="Confirm new password..." autocomplete="off">
                            <span class="settings-form-error" id="password-error"></span>
                        </div>
                        <button class="settings-form-submit" id="save-password-btn">Save Password</button>
                    </div>
                </div>
            </div>

            <!-- Delete Account Modal -->
            <div class="modal hidden" id="delete-account-modal">
                <div class="modal-content settings-modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Delete Account</h3>
                        <button class="close-btn" id="close-delete-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="settings-delete-warning">
                            <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="#ff4757" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="12" y1="8" x2="12" y2="12"/>
                                <line x1="12" y1="16" x2="12.01" y2="16"/>
                            </svg>
                            <p>This action cannot be undone. All your data, uploads, and account information will be permanently deleted.</p>
                        </div>
                        <div class="settings-form-group">
                            <label class="settings-form-label">Type "DELETE" to confirm</label>
                            <input type="text" class="settings-form-input" id="delete-confirm-input" placeholder="Type DELETE...">
                            <span class="settings-form-error" id="delete-error"></span>
                        </div>
                        <button class="settings-form-submit settings-btn-danger" id="confirm-delete-btn">Delete My Account</button>
                    </div>
                </div>
            </div>

            <!-- Report Bug Modal -->
            <div class="modal hidden" id="report-bug-modal">
                <div class="modal-content settings-modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Report a Bug</h3>
                        <button class="close-btn" id="close-report-bug-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="settings-form-group">
                            <label class="settings-form-label">Describe the bug</label>
                            <textarea class="settings-form-input report-bug-textarea" id="report-bug-textarea" placeholder="Please describe the issue you encountered..." rows="6"></textarea>
                        </div>
                        <button class="settings-form-submit" id="submit-bug-report-btn">Send Report</button>
                    </div>
                </div>
            </div>

            <!-- Bug Report Sent Modal -->
            <div class="modal hidden" id="bug-report-sent-modal">
                <div class="modal-content settings-modal-content bug-report-sent-content">
                    <div class="modal-body" style="text-align: center; padding: 30px;">
                        <p style="font-size: 18px; margin-bottom: 20px;">Message sent</p>
                        <button class="settings-form-submit" id="bug-report-ok-btn">Okay</button>
                    </div>
                </div>
            </div>

            <!-- AUTH REQUIRED PROMPT MODAL -->
            <div class="modal hidden" id="auth-required-modal">
                <div class="modal-content auth-required-content">
                    <div class="auth-required-message">You need to be signed in to do that</div>
                    <div class="auth-required-buttons">
                        <button class="auth-required-btn auth-required-create" id="auth-required-create-btn">Create account?</button>
                        <button class="auth-required-btn auth-required-dismiss" id="auth-required-dismiss-btn">
                            You suck
                            <img src="Emojies/48301-clownpepe.png" alt="clown" class="auth-required-emoji">
                        </button>
                    </div>
                </div>
            </div>

            <!-- UPLOAD PAGE -->
            <div id="upload-content" class="tab-panel">
                <div class="upload-page">
                    <!-- Left Sidebar -->
                    <div class="upload-sidebar">
                        <div class="upload-category-tabs">
                            <button class="upload-category-tab active" data-category="presets">
                                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
                                Preset
                            </button>
                            <button class="upload-category-tab" data-category="samples">
                                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
                                Sample
                            </button>
                            <button class="upload-category-tab" data-category="midi">
                                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="6" width="20" height="12" rx="2"/><line x1="6" y1="6" x2="6" y2="18"/><line x1="10" y1="6" x2="10" y2="18"/><line x1="14" y1="6" x2="14" y2="18"/><line x1="18" y1="6" x2="18" y2="18"/></svg>
                                MIDI
                            </button>
                            <button class="upload-category-tab" data-category="projects">
                                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
                                Project
                            </button>
                            <button class="upload-category-tab" data-category="originals">
                                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                                Original Music
                            </button>
                        </div>
                    </div>

                    <!-- Main content: Form + Preview -->
                    <div class="upload-main">
                        <!-- Multi-upload tabs -->
                        <div class="upload-items-tabs-container">
                            <div class="upload-items-tabs" id="upload-items-tabs">
                                <button class="upload-item-tab active" data-index="0">
                                    <span class="upload-item-tab-label">Preset 1</span>
                                    <button class="upload-item-tab-remove" data-index="0" style="display: none;">
                                        <svg viewBox="0 0 24 24" width="12" height="12" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                                    </button>
                                </button>
                            </div>
                            <button class="upload-add-item-btn" id="upload-add-item-btn" title="Add another item">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                <span id="upload-add-item-text">Add New Preset</span>
                            </button>
                        </div>

                        <!-- Form content wrapper -->
                        <div class="upload-form-content">
                        <!-- Left: Form -->
                        <div class="upload-form-card">
                            <div class="upload-form-row">
                                <div class="upload-form-group" style="flex: 3;">
                                    <label class="upload-label">Title <span class="required">*</span></label>
                                    <input type="text" class="upload-input" id="upload-title" placeholder="Enter title..." maxlength="25" />
                                    <span class="char-count" id="upload-title-count">0/25</span>
                                </div>
                            </div>

                            <!-- Preset fields -->
                            <div class="upload-form-row upload-field-vst">
                                <div class="upload-form-group">
                                    <label class="upload-label">Synthesizer <span class="required">*</span></label>
                                    <div class="upload-autocomplete-wrapper">
                                        <input type="text" class="upload-input upload-autocomplete" id="upload-vst" placeholder="Select Synthesizer..." data-autocomplete="vst" autocomplete="off" />
                                        <div class="upload-autocomplete-dropdown" id="upload-vst-dropdown"></div>
                                    </div>
                                </div>
                                <div class="upload-form-group upload-field-type">
                                    <label class="upload-label">Sound Type <span class="required">*</span></label>
                                    <div class="upload-autocomplete-wrapper">
                                        <input type="text" class="upload-input upload-autocomplete" id="upload-type" placeholder="Select type..." data-autocomplete="soundType" autocomplete="off" />
                                        <div class="upload-autocomplete-dropdown" id="upload-type-dropdown"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Sample fields -->
                            <div class="upload-form-row upload-form-row-4 upload-field-sample-meta" style="display: none;">
                                <div class="upload-form-group">
                                    <label class="upload-label">Sample Type <span class="required">*</span></label>
                                    <select class="upload-input upload-select" id="upload-loop-type">
                                        <option value="">Select...</option>
                                        <option value="Loop">Loop</option>
                                        <option value="One Shot">One Shot</option>
                                    </select>
                                </div>
                                <div class="upload-form-group" id="upload-sample-subtype-group" style="display: none;">
                                    <label class="upload-label" id="upload-sample-type-label">&nbsp;<span class="required">*</span></label>
                                    <div class="upload-autocomplete-wrapper">
                                        <input type="text" class="upload-input upload-autocomplete" id="upload-sample-type" placeholder="Type..." data-autocomplete="sampleType" autocomplete="off" />
                                        <div class="upload-autocomplete-dropdown" id="upload-sample-type-dropdown"></div>
                                    </div>
                                </div>
                                <div class="upload-form-group">
                                    <label class="upload-label">Key <span class="required">*</span></label>
                                    <div class="upload-autocomplete-wrapper">
                                        <input type="text" class="upload-input upload-autocomplete" id="upload-key" placeholder="Key..." data-autocomplete="key" autocomplete="off" />
                                        <div class="upload-autocomplete-dropdown" id="upload-key-dropdown"></div>
                                    </div>
                                </div>
                                <div class="upload-form-group" id="upload-bpm-group">
                                    <label class="upload-label">BPM <span class="required">*</span></label>
                                    <input type="number" class="upload-input" id="upload-bpm" placeholder="120" />
                                </div>
                            </div>

                            <!-- Project fields -->
                            <div class="upload-form-row upload-form-row-5 upload-field-project-meta" style="display: none;">
                                <div class="upload-form-group">
                                    <label class="upload-label">DAW <span class="required">*</span></label>
                                    <div class="upload-autocomplete-wrapper">
                                        <input type="text" class="upload-input upload-autocomplete" id="upload-daw" placeholder="DAW..." data-autocomplete="daw" autocomplete="off" />
                                        <div class="upload-autocomplete-dropdown" id="upload-daw-dropdown"></div>
                                    </div>
                                </div>
                                <div class="upload-form-group">
                                    <label class="upload-label">Tempo <span class="required">*</span></label>
                                    <input type="number" class="upload-input" id="upload-tempo" placeholder="BPM" />
                                </div>
                                <div class="upload-form-group">
                                    <label class="upload-label">Key <span class="required">*</span></label>
                                    <div class="upload-autocomplete-wrapper">
                                        <input type="text" class="upload-input upload-autocomplete" id="upload-project-key" placeholder="Key..." data-autocomplete="key" autocomplete="off" />
                                        <div class="upload-autocomplete-dropdown" id="upload-project-key-dropdown"></div>
                                    </div>
                                </div>
                                <div class="upload-form-group">
                                    <label class="upload-label">Scale <span class="required">*</span></label>
                                    <div class="upload-autocomplete-wrapper">
                                        <input type="text" class="upload-input upload-autocomplete" id="upload-scale" placeholder="Scale..." data-autocomplete="scale" autocomplete="off" />
                                        <div class="upload-autocomplete-dropdown" id="upload-scale-dropdown"></div>
                                    </div>
                                </div>
                                <div class="upload-form-group">
                                    <label class="upload-label">Genre <span class="required">*</span></label>
                                    <div class="upload-autocomplete-wrapper">
                                        <input type="text" class="upload-input upload-autocomplete" id="upload-genre" placeholder="Genre..." data-autocomplete="genre" autocomplete="off" />
                                        <div class="upload-autocomplete-dropdown" id="upload-genre-dropdown"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Originals fields (just genre) -->
                            <div class="upload-form-row upload-field-originals-meta" style="display: none;">
                                <div class="upload-form-group">
                                    <label class="upload-label">Genre <span class="required">*</span></label>
                                    <div class="upload-autocomplete-wrapper">
                                        <input type="text" class="upload-input upload-autocomplete" id="upload-originals-genre" placeholder="Genre..." data-autocomplete="genre" autocomplete="off" />
                                        <div class="upload-autocomplete-dropdown" id="upload-originals-genre-dropdown"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Tags inline -->
                            <div class="upload-form-group">
                                <label class="upload-label">Tags</label>
                                <div class="upload-tags-input-container" id="upload-tags-container">
                                    <input type="text" class="upload-tags-input" id="upload-tag-input" placeholder="Type tag, then comma + space..." />
                                </div>
                            </div>

                            <div class="upload-form-group">
                                <label class="upload-label">Description</label>
                                <textarea class="upload-textarea" id="upload-description" placeholder="Describe your upload..." rows="2" maxlength="100"></textarea>
                                <span class="char-count" id="description-char-count">0/100</span>
                            </div>

                            <!-- File uploads - horizontal row -->
                            <div class="upload-form-group">
                                <label class="upload-label">Files <span class="required">*</span></label>
                                <div class="upload-files-row">
                                    <div class="upload-file-item" id="upload-file-main-btn">
                                        <div class="upload-file-icon">
                                            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"/><polyline points="13 2 13 9 20 9"/></svg>
                                        </div>
                                        <span class="upload-file-label" id="upload-file-main-label">Preset</span>
                                        <span class="upload-file-status" id="upload-file-main-status">Required</span>
                                        <input type="file" id="upload-file-main" style="display: none;" />
                                    </div>
                                    <div class="upload-file-item" id="upload-file-audio-btn">
                                        <div class="upload-file-icon">
                                            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
                                        </div>
                                        <span class="upload-file-label">Audio</span>
                                        <span class="upload-file-status" id="upload-file-audio-status">Optional</span>
                                        <input type="file" id="upload-file-audio" accept="audio/*" style="display: none;" />
                                    </div>
                                    <div class="upload-file-item" id="upload-file-cover-btn">
                                        <div class="upload-file-icon">
                                            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                                        </div>
                                        <span class="upload-file-label">Cover</span>
                                        <span class="upload-file-status" id="upload-file-cover-status">Optional</span>
                                        <button type="button" class="upload-file-remove" id="upload-file-cover-remove" title="Remove cover">&times;</button>
                                        <input type="file" id="upload-file-cover" accept="image/*" style="display: none;" />
                                    </div>
                                    <div class="upload-file-item" id="upload-file-video-btn" style="display: none;">
                                        <div class="upload-file-icon">
                                            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
                                        </div>
                                        <span class="upload-file-label">Video of Project</span>
                                        <span class="upload-file-status" id="upload-file-video-status">Required</span>
                                        <input type="file" id="upload-file-video" accept="video/*" style="display: none;" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right side: Preview + Submit -->
                        <div class="upload-right-panel">
                            <!-- Live Preview -->
                            <div class="upload-preview-section">
                                <div class="upload-preview-label">Live Preview</div>
                                <div class="upload-preview-container" id="upload-preview-container">
                                    <!-- Card preview will be rendered here -->
                                </div>
                            </div>

                            <!-- Submit button -->
                            <button type="button" class="upload-submit-btn" id="upload-submit-btn">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                                Upload All
                            </button>
                        </div>
                        </div><!-- end upload-form-content -->
                    </div>
                </div>
            </div>

    <!-- BOTTOM PLAY BAR -->
    <div class="bottom-play-bar">
        <div class="play-bar-track-info">
            <div class="play-bar-album-art" id="play-bar-album-art"></div>
            <div class="play-bar-track-details">
                <div class="play-bar-track-title" id="play-bar-track-title">No track playing</div>
                <div class="play-bar-track-artist" id="play-bar-track-artist">Select a track</div>
            </div>
        </div>

        <div class="play-bar-controls">
            <div class="play-bar-buttons">
                <button class="play-bar-btn autoplay-btn active" id="autoplay-btn" data-action="toggleAutoplay" disabled>
                    Autoplay
                </button>
                <button class="play-bar-btn loop-btn" id="play-bar-loop-btn" data-action="togglePlayBarLoop" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="17 1 21 5 17 9"/><path d="M3 11V9a4 4 0 0 1 4-4h14"/><polyline points="7 23 3 19 7 15"/><path d="M21 13v2a4 4 0 0 1-4 4H3"/></svg>
                    Loop
                </button>
                <button class="play-bar-btn" id="prev-btn" disabled>
                    <svg viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
                </button>
                <button class="play-bar-btn play-btn" id="global-play-btn" disabled>
                    <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                </button>
                <button class="play-bar-btn" id="next-btn" disabled>
                    <svg viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
                </button>
                <div class="play-bar-actions">
                    <button class="play-bar-action-btn" id="play-bar-heart-btn" data-action="togglePlayBarLike" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"/></svg>
                    </button>
                    <button class="play-bar-action-btn" id="play-bar-share-btn" data-action="sharePlayBarTrack" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>
                    </button>
                    <button class="play-bar-action-btn" id="play-bar-download-btn" data-action="downloadPlayBarTrack" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                    </button>
                    <button class="play-bar-action-btn" id="play-bar-save-btn" data-action="savePlayBarTrack" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                    </button>
                </div>
            </div>

            <div class="play-bar-progress">
                <div class="play-bar-time" id="current-time">0:00</div>
                <div class="play-bar-progress-bar" id="play-bar-progress-bar">
                    <div class="play-bar-progress-filled" id="play-bar-progress-filled"></div>
                    <div class="play-bar-progress-handle"></div>
                </div>
                <div class="play-bar-time" id="total-time">0:00</div>
            </div>
        </div>

        <div class="play-bar-volume">
            <button class="play-bar-volume-btn" id="mute-btn" disabled>
                <svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
            </button>
            <div class="play-bar-volume-slider" id="volume-slider">
                <div class="play-bar-volume-filled" id="volume-filled">
                    <div class="play-bar-volume-handle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- SHARE MODAL -->
    <div id="share-modal" class="modal hidden">
        <div class="modal-content share-modal-content">
            <div class="modal-header">
                <div class="modal-title">Share</div>
                <button class="close-btn" data-action="closeShareModal">&times;</button>
            </div>
            <div class="share-modal-body">
                <div class="share-item-preview" id="share-item-preview">
                    <!-- Item card preview will be inserted here -->
                </div>
                <div class="share-tabs">
                    <button class="share-tab active" data-share-tab="room">Room</button>
                    <button class="share-tab" data-share-tab="dm">Direct Message</button>
                </div>
                <div class="share-tab-content" id="share-room-content">
                    <div class="share-room-section">
                        <label class="share-label">Select Room</label>
                        <div class="share-rooms-list" id="share-rooms-list">
                            <!-- Rooms will be listed here -->
                        </div>
                    </div>
                </div>
                <div class="share-tab-content hidden" id="share-dm-content">
                    <div class="share-dm-section">
                        <label class="share-label">Select Conversation</label>
                        <div class="share-dm-list" id="share-dm-list">
                            <!-- DM conversations will be listed here -->
                        </div>
                    </div>
                </div>
                <div class="share-comment-section">
                    <label class="share-label">Add a comment (optional)</label>
                    <textarea class="share-comment-input" id="share-comment-input" placeholder="Say something about this..."></textarea>
                </div>
                <button class="share-submit-btn" id="share-submit-btn" data-action="submitShare" disabled>
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                    </svg>
                    Share
                </button>
            </div>
        </div>
    </div>

    <!-- UPLOAD MODAL -->
    <div id="upload-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Upload Content</div>
                <button class="close-btn" data-action="closeUploadModal">&times;</button>
            </div>

            <div class="modal-body">
                <!-- PRESETS UPLOAD FORM -->
                <div id="upload-presets" class="tab-content active">
                    <form id="preset-form">
                        <div class="form-group">
                            <label class="form-label">Title</label>
                            <input type="text" class="form-input" id="preset-title" required />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Synthesizer</label>
                            <div class="autocomplete-wrapper">
                                <input type="text" class="form-input autocomplete-input" id="preset-vst" placeholder="Type to search Synthesizer..." required autocomplete="off" data-autocomplete="vst" />
                                <div class="autocomplete-dropdown" id="preset-vst-dropdown"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Type</label>
                            <div class="autocomplete-wrapper">
                                <input type="text" class="form-input autocomplete-input" id="preset-type" placeholder="Type to search sound type..." required autocomplete="off" data-autocomplete="soundType" />
                                <div class="autocomplete-dropdown" id="preset-type-dropdown"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tags (comma separated)</label>
                            <input type="text" class="form-input" id="preset-tags" placeholder="dark, melodic, aggressive" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Preset File</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="preset-file">
                                <p>Click to upload preset file</p>
                                <input type="file" id="preset-file" style="display: none;" accept="*/*" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Audio Demo</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="preset-audio">
                                <p>Click to upload audio demo</p>
                                <input type="file" id="preset-audio" style="display: none;" accept="audio/*" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cover Art (Optional)</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="preset-cover">
                                <p>Click to upload photo/gif</p>
                                <input type="file" id="preset-cover" style="display: none;" accept="*/*" />
                            </div>
                        </div>
                        <button type="submit" class="upload-submit-btn">Upload Preset</button>
                    </form>
                </div>

                <!-- SAMPLES UPLOAD FORM -->
                <div id="upload-samples" class="tab-content">
                    <form id="sample-form">
                        <div class="form-group">
                            <label class="form-label">Title</label>
                            <input type="text" class="form-input" id="sample-title" required />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Type</label>
                            <div class="autocomplete-wrapper">
                                <input type="text" class="form-input autocomplete-input" id="sample-type" placeholder="Type to search sample type..." required autocomplete="off" data-autocomplete="sampleType" />
                                <div class="autocomplete-dropdown" id="sample-type-dropdown"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Key</label>
                            <div class="autocomplete-wrapper">
                                <input type="text" class="form-input autocomplete-input" id="sample-key" placeholder="Type to search key..." autocomplete="off" data-autocomplete="key" />
                                <div class="autocomplete-dropdown" id="sample-key-dropdown"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">BPM</label>
                            <input type="number" class="form-input" id="sample-bpm" placeholder="120" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tags (comma separated)</label>
                            <input type="text" class="form-input" id="sample-tags" placeholder="808, trap, hard" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Sample File</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="sample-audio">
                                <p>Click to upload sample</p>
                                <input type="file" id="sample-audio" style="display: none;" accept="audio/*" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cover Art (Optional)</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="sample-cover">
                                <p>Click to upload photo/gif</p>
                                <input type="file" id="sample-cover" style="display: none;" accept="image/*" />
                            </div>
                        </div>
                        <button type="submit" class="upload-submit-btn">Upload Sample</button>
                    </form>
                </div>

                <!-- MIDI UPLOAD FORM -->
                <div id="upload-midi" class="tab-content">
                    <form id="midi-form">
                        <div class="form-group">
                            <label class="form-label">Title</label>
                            <input type="text" class="form-input" id="midi-title" required />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tags (comma separated)</label>
                            <input type="text" class="form-input" id="midi-tags" placeholder="melodic, progression, dark" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">MIDI File</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="midi-file">
                                <p>Click to upload MIDI file</p>
                                <input type="file" id="midi-file" style="display: none;" accept=".mid,.midi" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Audio Demo (Optional)</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="midi-audio">
                                <p>Click to upload audio demo</p>
                                <input type="file" id="midi-audio" style="display: none;" accept="audio/*" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cover Image/GIF (Optional)</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="midi-cover">
                                <p>Click to upload image or GIF</p>
                                <input type="file" id="midi-cover" style="display: none;" accept="image/*" />
                            </div>
                        </div>
                        <button type="submit" class="upload-submit-btn">Upload MIDI</button>
                    </form>
                </div>

                <!-- PROJECTS UPLOAD FORM -->
                <div id="upload-projects" class="tab-content">
                    <form id="project-form">
                        <div class="form-group">
                            <label class="form-label">Title</label>
                            <input type="text" class="form-input" id="project-title" required />
                        </div>
                        <div class="form-group">
                            <label class="form-label">DAW</label>
                            <div class="autocomplete-wrapper">
                                <input type="text" class="form-input autocomplete-input" id="project-daw" placeholder="Type to search DAW..." required autocomplete="off" data-autocomplete="daw" />
                                <div class="autocomplete-dropdown" id="project-daw-dropdown"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Project Tempo (BPM)</label>
                            <input type="number" class="form-input" id="project-tempo" placeholder="120" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Key</label>
                            <div class="autocomplete-wrapper">
                                <input type="text" class="form-input autocomplete-input" id="project-key" placeholder="Type to search key..." autocomplete="off" data-autocomplete="key" />
                                <div class="autocomplete-dropdown" id="project-key-dropdown"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Scale</label>
                            <div class="autocomplete-wrapper">
                                <input type="text" class="form-input autocomplete-input" id="project-scale" placeholder="Type to search scale..." autocomplete="off" data-autocomplete="scale" />
                                <div class="autocomplete-dropdown" id="project-scale-dropdown"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Time Signature</label>
                            <select class="form-select" id="project-time-signature">
                                <option value="">Select Time Signature</option>
                                <option value="4/4">4/4</option>
                                <option value="3/4">3/4</option>
                                <option value="6/8">6/8</option>
                                <option value="5/4">5/4</option>
                                <option value="7/8">7/8</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Genre</label>
                            <input type="text" class="form-input" id="project-genre" placeholder="EDM, Hip-Hop, Trap" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tags (comma separated)</label>
                            <input type="text" class="form-input" id="project-tags" placeholder="trap, full mix, stems included" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Project File</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="project-file">
                                <p>Click to upload project file (.zip, .als, .flp, etc.)</p>
                                <input type="file" id="project-file" style="display: none;" accept="*/*" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Demo Video <span class="required-indicator">*</span></label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="project-demo">
                                <p>Click to upload demo video (required)</p>
                                <input type="file" id="project-demo" style="display: none;" accept="video/*" required />
                            </div>
                        </div>
                        <button type="submit" class="upload-submit-btn">Upload Project</button>
                    </form>
                </div>

                <!-- ORIGINALS UPLOAD FORM -->
                <div id="upload-originals" class="tab-content">
                    <form id="originals-form">
                        <div class="form-group">
                            <label class="form-label">Title</label>
                            <input type="text" class="form-input" id="originals-title" placeholder="Title of your beat" required />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Genre</label>
                            <div class="autocomplete-wrapper">
                                <input type="text" class="form-input autocomplete-input" id="originals-genre" placeholder="Type to search genre..." required autocomplete="off" data-autocomplete="genre" />
                                <div class="autocomplete-dropdown" id="originals-genre-dropdown"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tags (comma separated)</label>
                            <input type="text" class="form-input" id="originals-tags" placeholder="chill, melodic, summer vibes" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Audio File</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="originals-audio">
                                <p>Click to upload audio</p>
                                <input type="file" id="originals-audio" style="display: none;" accept="audio/*" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cover Art (Optional)</label>
                            <div class="file-upload-area" data-action="triggerFileInput" data-input="originals-cover">
                                <p>Click to upload photo/gif</p>
                                <input type="file" id="originals-cover" style="display: none;" accept="image/*,image/gif" />
                            </div>
                        </div>
                        <button type="submit" class="upload-submit-btn">Upload Original</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- DOWNLOAD CONFIRMATION MODAL -->
    <div id="download-modal" class="modal hidden">
        <div class="modal-content download-modal-content">
            <div class="modal-header">
                <div class="modal-title">Download Files</div>
                <button class="close-btn" data-action="closeDownloadModal">&times;</button>
            </div>

            <div class="download-info">
                <div class="download-info-icon"></div>
                <div class="download-info-text">You're about to download</div>
                <div class="download-info-count" id="download-count">0 files</div>

                <div class="form-group">
                    <label class="form-label">Zip File Name</label>
                    <input type="text" class="form-input" id="download-filename" placeholder="PresetJunkies_Package" />
                </div>
            </div>

            <div class="download-modal-actions">
                <button class="download-modal-btn cancel" data-action="closeDownloadModal">Cancel</button>
                <button class="download-modal-btn confirm" data-action="confirmDownload">Confirm Download</button>
            </div>
        </div>
    </div>

    <!-- Center Panel -->
    <div id="center-panel" class="center-panel">
        <div class="center-panel-banner" id="center-panel-banner"></div>

        <div class="center-panel-user-section">
            <button class="view-profile-btn" id="center-panel-view-profile">View Profile</button>
            <div class="info-card">
                <div class="info-card-left">
                    <div class="info-card-avatar" id="center-panel-avatar">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                    </div>
                </div>
                <div class="info-card-right">
                    <h2 class="info-card-title" id="center-panel-username">Username</h2>
                    <p class="info-card-bio" id="center-panel-description">No Bio available.</p>
                </div>
            </div>
            <div class="info-card-stats">
                <span class="info-stat"><span class="info-stat-num" id="center-panel-followers">0</span> Followers</span>
                <span class="info-stat"><span class="info-stat-num" id="center-panel-following">0</span> Following</span>
                <span class="info-stat"><span class="info-stat-num" id="center-panel-uploads">0</span> Uploads</span>
                <span class="info-stat"><span class="info-stat-num" id="center-panel-downloads">0</span> Downloads</span>
            </div>
        </div>

        <div class="center-panel-item-section">
            <div class="info-card">
                <div class="info-card-left">
                    <div class="info-card-avatar info-card-cover" id="center-panel-item-art">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
                        </svg>
                    </div>
                </div>
                <div class="info-card-right">
                    <h2 class="info-card-title" id="center-panel-item-title">Item Title</h2>
                    <p class="info-card-bio" id="center-panel-item-description">No description provided.</p>
                </div>
            </div>
            <div class="info-card-tags">
                <span class="info-card-tags-label">Tags</span>
                <div class="info-card-tags-list" id="center-panel-item-tags"></div>
            </div>
        </div>

        <!-- Now Playing Info Container -->
        <div class="center-panel-now-playing" id="center-panel-now-playing">
            <div class="center-panel-now-playing-cover" id="center-panel-now-playing-cover">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
            </div>
            <div class="center-panel-now-playing-details">
                <div class="center-panel-now-playing-label">
                    <span class="now-playing-dot"></span>
                    NOW PLAYING
                </div>
                <div class="center-panel-now-playing-title" id="center-panel-now-playing-title">Track Title</div>
                <div class="center-panel-now-playing-description" id="center-panel-now-playing-description"></div>
            </div>
        </div>

        <!-- Comments Section -->
        <div class="center-panel-comments-section">
            <div class="center-panel-title">
                <span>Comments</span>
                <span class="comment-count" id="comment-count">0</span>
            </div>
            <div class="center-panel-list" id="center-panel-list">
                <div class="comments-empty-state" id="comments-empty-state">
                    <div class="empty-state-icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor" opacity="0.2">
                            <path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>
                        </svg>
                    </div>
                    <div class="empty-state-text">No comments yet</div>
                    <div class="empty-state-subtext">Be the first to share your thoughts</div>
                </div>
            </div>
        </div>
        <div class="center-panel-input-row">
            <div class="center-panel-input-avatar">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
            </div>
            <button class="emoji-btn" id="center-panel-emoji-btn" title="Emoji">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>
            </button>
            <div class="emoji-picker" id="center-panel-emoji-picker" style="display: none;">
                <div class="emoji-picker-header">Emojis</div>
                <div class="emoji-picker-grid"></div>
            </div>
            <textarea id="center-panel-input" placeholder="Add a comment..." rows="1"></textarea>
        </div>
    </div>

    <!-- Comment Modal -->
    <div id="comment-modal" class="comment-modal">
        <div class="comment-modal-content">
            <button class="comment-modal-close" data-action="closeCommentModal">&times;</button>
            <div class="comment-modal-header" id="comment-modal-header">
                <div class="comment-modal-avatar-section">
                    <div class="comment-modal-avatar" id="comment-modal-avatar"></div>
                </div>
                <div class="comment-modal-user-info">
                    <div class="comment-modal-username" id="comment-modal-username">Username</div>
                    <div class="comment-modal-stats">
                        <div class="comment-modal-stat"><strong id="comment-modal-followers">0</strong> Followers</div>
                        <div class="comment-modal-stat"><strong id="comment-modal-uploads">0</strong> Uploads</div>
                    </div>
                </div>
                <div class="comment-modal-actions">
                    <span class="comment-modal-action" data-action="followUser">Follow</span>
                    <span class="comment-modal-action">Message</span>
                </div>
            </div>
            <div class="comment-modal-body">
                <div class="comment-modal-left">
                    <div class="comment-list" id="comment-list"></div>
                    <div class="comment-input-row">
                        <div class="comment-input-avatar">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                        </div>
                        <button class="input-btn emoji-btn" id="comment-modal-emoji-btn" title="Emoji">
                            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>
                        </button>
                        <div class="emoji-picker" id="comment-modal-emoji-picker" style="display: none;">
                            <div class="emoji-picker-header">Emojis</div>
                            <div class="emoji-picker-grid"></div>
                        </div>
                        <input type="text" id="comment-input" placeholder="Add a comment...">
                        <button data-action="submitComment">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                        </button>
                    </div>
                </div>
                <div class="comment-modal-right">
                    <h3>More from <span id="more-presets-username">username</span></h3>
                    <div class="more-presets-list" id="more-presets-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Moderation Confirmation Modal -->
    <div class="modal-overlay" id="moderation-modal" style="display: none;">
        <div class="modal-content moderation-modal">
            <div class="modal-body">
                <p class="moderation-message" id="moderation-message">Are you sure?</p>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel" id="moderation-cancel">Cancel</button>
                <button class="modal-btn confirm" id="moderation-confirm">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Profile Message Modal -->
    <div class="modal-overlay" id="profile-message-modal" style="display: none;">
        <div class="modal-content profile-message-modal">
            <div class="modal-header">
                <h2 id="profile-message-title">Message User</h2>
                <button class="modal-close-btn" data-action="closeProfileMessageModal">&times;</button>
            </div>
            <div class="modal-body">
                <textarea id="profile-message-input" placeholder="Type your message..." rows="4"></textarea>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel" data-action="closeProfileMessageModal">Cancel</button>
                <button class="modal-btn confirm" data-action="sendProfileMessage">Send</button>
            </div>
        </div>
    </div>

    <!-- Message Sent Confirmation Modal -->
    <div class="modal-overlay" id="message-sent-modal" style="display: none;">
        <div class="modal-content message-sent-modal">
            <div class="modal-body">
                <p class="message-sent-text">
                    <svg class="message-sent-check" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2.5">
                        <path d="M20 6L9 17l-5-5"/>
                    </svg>
                    Message sent
                </p>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel" data-action="closeMessageSentModal">Close</button>
                <button class="modal-btn confirm" data-action="goToMessages">Go to messages</button>
            </div>
        </div>
    </div>

    <!-- Delete Conversation Confirmation Modal -->
    <div class="modal-overlay" id="delete-conversation-modal" style="display: none;">
        <div class="modal-content delete-conversation-modal">
            <div class="modal-body">
                <p class="delete-conversation-text">You are about to delete this message and all its contents, are you sure you want to do this?</p>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel" data-action="closeDeleteConversationModal">Cancel</button>
                <button class="modal-btn confirm" data-action="confirmDeleteConversation">Yes</button>
            </div>
        </div>
    </div>

    <!-- Room Invite Modal -->
    <div class="modal-overlay" id="invite-modal" style="display: none;">
        <div class="modal-content invite-modal">
            <div class="modal-header">
                <h2>Invite to Room</h2>
                <button class="modal-close-btn" id="invite-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p class="invite-intro">Share this invite code with friends:</p>
                <div class="invite-code-container">
                    <input type="text" id="invite-code" readonly>
                    <button class="copy-invite-btn" id="copy-invite-btn">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                        Copy
                    </button>
                </div>
                <p class="invite-note">Code expires in 24 hours</p>
                <div class="invite-divider"><span>or</span></div>
                <p class="join-intro">Have an invite code? Enter it below:</p>
                <div class="join-code-container">
                    <input type="text" id="join-code-input" placeholder="Enter invite code">
                    <button class="join-room-btn" id="join-with-code-btn">Join</button>
                </div>
                <p class="join-error" id="join-error" style="display: none;"></p>
            </div>
        </div>
    </div>

    <!-- User Invite Modal -->
    <div class="modal-overlay" id="user-invite-modal" style="display: none;">
        <div class="modal-content user-invite-modal">
            <div class="modal-header">
                <h2>Invite Users</h2>
                <button class="modal-close-btn" id="user-invite-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="user-invite-search">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
                    </svg>
                    <input type="text" id="user-invite-search" placeholder="Search users...">
                </div>
                <div class="user-invite-list" id="user-invite-list">
                    <!-- Users will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Room Guidelines Modal -->
    <div class="modal-overlay" id="room-guidelines-modal" style="display: none;">
        <div class="modal-content guidelines-modal">
            <div class="modal-header">
                <h2>Community Guidelines for Room Creation</h2>
            </div>
            <div class="modal-body">
                <div class="guidelines-scroll-box">
                    <h3 class="guidelines-section-title">Prohibited Content</h3>
                    <ul class="guidelines-list">
                        <li>Harassment, bullying, or targeted attacks against individuals or groups</li>
                        <li>Hate speech, racism, discrimination, or prejudice of any kind</li>
                        <li>Sexual content, nudity, or explicit material</li>
                        <li>Gore, graphic violence, or disturbing imagery</li>
                        <li>Political discussions, debates, or campaigning</li>
                        <li>Spam, excessive self-promotion, or advertising outside designated areas</li>
                        <li>Links to torrents, pirated software, or illegally obtained content</li>
                    </ul>

                    <h3 class="guidelines-section-title">Your Responsibilities</h3>
                    <p class="guidelines-text">Rooms may cover any topic as long as they follow these guidelines. As a room creator, you are responsible for moderating your space and ensuring conversations remain civil.</p>

                    <h3 class="guidelines-section-title">Room Creation Limits</h3>
                    <ul class="guidelines-list">
                        <li>Users may only have one active room at a time</li>
                        <li>Rooms can only be deleted and recreated once per week to prevent spam</li>
                        <li>Room names are first come, first serve  if you delete a room and someone else claims the name, it cannot be recovered</li>
                    </ul>

                    <h3 class="guidelines-section-title">Enforcement</h3>
                    <p class="guidelines-text">Violations may result in room removal and account suspension. When in doubt, use common sense and treat others as you'd want to be treated.</p>
                </div>
                <label class="guidelines-checkbox-label">
                    <input type="checkbox" id="guidelines-agree-checkbox">
                    <span>I have read and agree to these guidelines</span>
                </label>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel" id="guidelines-cancel">Cancel</button>
                <button class="modal-btn agree disabled" id="guidelines-agree" disabled>I Agree</button>
            </div>
        </div>
    </div>

    <!-- Room Name Change Confirmation Modal -->
    <div class="modal-overlay" id="name-change-modal" style="display: none;">
        <div class="modal-content name-change-modal">
            <div class="modal-header">
                <h2>Confirm Name Change</h2>
            </div>
            <div class="modal-body">
                <p class="name-change-warning">You can only change your room name once. Are you sure you want to do this?</p>
                <label class="name-change-checkbox-label">
                    <input type="checkbox" id="name-change-agree-checkbox">
                    <span>I understand this cannot be undone</span>
                </label>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel" id="name-change-cancel">Cancel</button>
                <button class="modal-btn agree disabled" id="name-change-save" disabled>Save</button>
            </div>
        </div>
    </div>

    <!-- Leave Room Confirmation Modal -->
    <div class="modal-overlay" id="leave-room-modal" style="display: none;">
        <div class="modal-content leave-room-modal">
            <div class="modal-header">
                <h2>Leave Room</h2>
            </div>
            <div class="modal-body">
                <p class="leave-room-message">You are about to leave this group. Are you sure you want to do this?</p>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel" id="leave-room-cancel">Cancel</button>
                <button class="modal-btn leave" id="leave-room-confirm">Leave</button>
            </div>
        </div>
    </div>

    <!-- Auth Modal (Login/Signup) -->
    <div class="modal hidden" id="auth-modal">
        <div class="modal-content auth-modal-content">
            <button class="modal-close-btn" data-action="closeAuthModal">&times;</button>

            <!-- Login Form -->
            <div class="auth-form" id="login-form">
                <div class="auth-header">
                    <h2 class="auth-title">Welcome Back</h2>
                    <p class="auth-subtitle">Sign in to your account</p>
                </div>

                <div class="auth-fields">
                    <div class="auth-field">
                        <label class="auth-label">Email or Username</label>
                        <input type="text" class="auth-input" id="login-email" placeholder="Enter email or username" required maxlength="100">
                        <span class="auth-error" id="login-email-error"></span>
                    </div>
                    <div class="auth-field">
                        <label class="auth-label">Password</label>
                        <div class="auth-password-wrapper">
                            <input type="password" class="auth-input" id="login-password" placeholder="Enter password" autocomplete="off">
                            <button type="button" class="auth-password-toggle" data-action="togglePasswordVisibility" data-input="login-password">
                                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            </button>
                        </div>
                        <span class="auth-error" id="login-password-error"></span>
                    </div>
                </div>

                <div class="auth-options">
                    <label class="auth-remember">
                        <input type="checkbox" id="remember-me">
                        <span>Remember me</span>
                    </label>
                    <a href="#" class="auth-forgot" data-action="showAuthPanel" data-panel="forgot-password">Forgot password?</a>
                </div>

                <div class="auth-error-message" id="login-error"></div>

                <button type="button" class="auth-submit-btn" data-action="handleLogin">Sign In</button>

                <div class="auth-divider">
                    <span>or</span>
                </div>

                <div class="auth-switch">
                    Don't have an account? <a href="#" data-action="showAuthPanel" data-panel="signup">Create one</a>
                </div>
            </div>

            <!-- Signup Form -->
            <div class="auth-form hidden" id="signup-form">
                <div class="auth-header">
                    <h2 class="auth-title">Create Account</h2>
                    <p class="auth-subtitle">Join the Preset Junkies community</p>
                </div>

                <div class="auth-fields">
                    <div class="auth-field">
                        <label class="auth-label">Username</label>
                        <input type="text" class="auth-input" id="signup-username" placeholder="Choose a username" maxlength="18">
                        <span class="auth-error" id="signup-username-error"></span>
                    </div>
                    <div class="auth-field">
                        <label class="auth-label">Email</label>
                        <input type="email" class="auth-input" id="signup-email" placeholder="Enter your email" required maxlength="100">
                        <span class="auth-error" id="signup-email-error"></span>
                    </div>
                    <div class="auth-field">
                        <label class="auth-label">Password</label>
                        <div class="auth-password-wrapper">
                            <input type="password" class="auth-input" id="signup-password" placeholder="Create a password" autocomplete="off">
                            <button type="button" class="auth-password-toggle" data-action="togglePasswordVisibility" data-input="signup-password">
                                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            </button>
                        </div>
                        <span class="auth-hint">At least 8 characters with 1 special character (!@#$%^&*)</span>
                        <span class="auth-error" id="signup-password-error"></span>
                    </div>
                    <div class="auth-field">
                        <label class="auth-label">Confirm Password</label>
                        <div class="auth-password-wrapper">
                            <input type="password" class="auth-input" id="signup-confirm-password" placeholder="Confirm your password" autocomplete="off">
                            <button type="button" class="auth-password-toggle" data-action="togglePasswordVisibility" data-input="signup-confirm-password">
                                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            </button>
                        </div>
                        <span class="auth-error" id="signup-confirm-error"></span>
                    </div>
                </div>

                <div class="auth-terms-section">
                    <label class="auth-label">Terms of Service & Privacy Policy</label>
                    <div class="auth-terms-box" id="terms-box">
                        <h3>Terms of Service</h3>
                        <p class="terms-date">Last Updated: December 29, 2025</p>
                        <p>By creating an account or using Preset Junkies, you agree to these Terms of Service ("Terms"). If you do not agree, do not access or use the Platform.</p>

                        <h4>1. Acceptance of Terms</h4>
                        <p>By accessing or using Preset Junkies ("Preset Junkies," "we," "us," or "the Platform"), you agree to be bound by these Terms and all applicable laws and regulations.</p>

                        <h4>2. Eligibility & Account Responsibilities</h4>
                        <ul>
                            <li>You must be at least 13 years old to create an account.</li>
                            <li>If you are under 18, you represent that you have permission from a parent or legal guardian to use the Platform.</li>
                            <li>You are responsible for maintaining the confidentiality of your account credentials.</li>
                            <li>You are responsible for all activity that occurs under your account.</li>
                            <li>You agree to provide accurate, current, and complete information when creating your account.</li>
                        </ul>

                        <h4>3. User Content</h4>
                        <p><strong>What You May Upload:</strong> You may upload content only if you own it or have the legal right to distribute it, including presets, samples, MIDI files, project files, original music and collaborations where all parties have consented.</p>
                        <p><strong>Prohibited Content:</strong> You may not upload content that you do not own or have rights to distribute, is pirated, stolen, or illegally obtained, contains malware or malicious code, infringes copyrights or intellectual property rights, is illegal, harmful, threatening, abusive, harassing, defamatory, or obscene, promotes violence, hate speech, discrimination, or exploitation, or contains sexually explicit material or involves minors.</p>

                        <h4>4. Intellectual Property & Platform License</h4>
                        <p>You retain ownership of the content you upload. By uploading content, you grant Preset Junkies a non-exclusive, worldwide, royalty-free license to host, store, display, distribute, and make your content available through the Platform.</p>

                        <h4>5. Content Usage License (Between Users)</h4>
                        <p>All presets, samples, MIDI files, and project files on Preset Junkies are provided free of charge. By uploading content, you grant other users a non-exclusive license to use the content in personal and commercial music productions. Downloaded content may not be redistributed, resold, sublicensed, or claimed as original work.</p>

                        <h4>6. Community Guidelines</h4>
                        <p>You agree to treat other users with respect, avoid spam, harassment, abuse, or impersonation, not use the Platform for illegal activities, and not attempt to exploit, hack, or compromise Platform security.</p>

                        <h4>7. Account Suspension & Termination</h4>
                        <p>We may suspend or terminate your account, with or without notice, if we reasonably believe your conduct violates these Terms, is harmful to other users or the Platform, or is illegal or promotes illegal activity.</p>

                        <h4>8. Disclaimer of Warranties</h4>
                        <p>The Platform is provided "as is" and "as available." Preset Junkies makes no warranties, express or implied, including but not limited to uninterrupted or error-free operation, security or availability of the Platform, or accuracy or reliability of user-uploaded content.</p>

                        <h4>9. Limitation of Liability</h4>
                        <p>To the maximum extent permitted by law, Preset Junkies shall not be liable for any indirect, incidental, consequential, special, or punitive damages. Preset Junkies' total liability shall not exceed the amount you paid to use the Platform, or $0 USD if the Platform is free.</p>

                        <h4>10. Indemnification</h4>
                        <p>You agree to indemnify and hold harmless Preset Junkies, its owners, operators, and affiliates from any claims, damages, losses, or expenses arising from your use of the Platform, your violation of these Terms, your violation of any third-party rights, or content you upload or share.</p>

                        <h4>11. DMCA & Copyright Claims</h4>
                        <p>If you believe content on Preset Junkies infringes your copyright, please contact us with identification of the copyrighted work, identification of the allegedly infringing content, your contact information, and statements of good-faith and accuracy under penalty of perjury.</p>

                        <h4>12. Privacy</h4>
                        <p>We collect only data necessary to operate the Platform. We do not sell personal information to third parties. Uploaded content is publicly visible unless otherwise specified. For more information, please see our Privacy Policy below.</p>

                        <h4>13. Changes to These Terms</h4>
                        <p>We may update these Terms from time to time. Continued use of the Platform after changes become effective constitutes acceptance of the revised Terms.</p>

                        <h4>14. Governing Law</h4>
                        <p>These Terms are governed by the laws of the United States, without regard to conflict of law principles.</p>

                        <div class="terms-divider"></div>

                        <h3>Privacy Policy</h3>
                        <p class="terms-date">Last Updated: December 29, 2025</p>
                        <p>Preset Junkies ("Preset Junkies," "we," "us," or "the Platform") respects your privacy. This Privacy Policy explains what information we collect, how we use it, and your rights regarding your data.</p>

                        <h4>1. Information We Collect</h4>
                        <p><strong>Information You Provide:</strong> Email address, username and account profile information, content you upload, and communications you send to us.</p>
                        <p><strong>Information Collected Automatically:</strong> IP address, browser type and device information, pages visited and actions taken, dates and times of access. This information is used only to operate, secure, and improve the Platform.</p>

                        <h4>2. How We Use Your Information</h4>
                        <p>We use your information to create and manage user accounts, provide access to Platform features, host and display user-uploaded content, maintain Platform security and prevent abuse, communicate with users regarding accounts or support requests, and improve the Platform's functionality and performance. We do not sell your personal information.</p>

                        <h4>3. Cookies & Analytics</h4>
                        <p>Preset Junkies may use basic cookies or similar technologies to maintain login sessions, improve site functionality, and understand general usage patterns. We do not use cookies for targeted advertising.</p>

                        <h4>4. Sharing of Information</h4>
                        <p>We do not sell or rent your personal information. We may share limited information only with service providers who help operate the Platform, if required by law or legal process, or to protect the rights, safety, or security of Preset Junkies or its users.</p>

                        <h4>5. Public Content</h4>
                        <p>Content you upload to Preset Junkies is publicly visible by default unless otherwise specified. Your username may be displayed alongside uploaded content.</p>

                        <h4>6. Data Retention</h4>
                        <p>We retain your information only as long as necessary to operate the Platform, comply with legal obligations, resolve disputes, and enforce our Terms of Service. You may delete your account at any time.</p>

                        <h4>7. Your Rights</h4>
                        <p>Depending on your location, you may have the right to access the personal data we hold about you, request correction or deletion of your data, request a copy of your data, and object to or restrict certain data processing.</p>

                        <h4>8. Children's Privacy</h4>
                        <p>Preset Junkies is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13.</p>

                        <h4>9. Data Security</h4>
                        <p>We take reasonable measures to protect your information, including administrative, technical, and organizational safeguards. However, no system can be guaranteed to be 100% secure.</p>

                        <h4>10. Changes to This Privacy Policy</h4>
                        <p>We may update this Privacy Policy from time to time. Any changes will be posted on this page with an updated "Last Updated" date.</p>

                        <h4>11. Contact Us</h4>
                        <p>If you have questions about this Privacy Policy or how your data is handled, please contact us through the Platform.</p>
                    </div>
                    <p class="terms-scroll-hint" id="terms-scroll-hint">Scroll to read all terms</p>
                </div>

                <label class="auth-terms-agree">
                    <input type="checkbox" id="accept-terms" disabled>
                    <span>I have read and agree to the Terms of Service and Privacy Policy</span>
                </label>

                <div class="auth-error-message" id="signup-error"></div>

                <button type="button" class="auth-submit-btn" id="signup-submit-btn" data-action="handleSignup" disabled>Create Account</button>

                <div class="auth-divider">
                    <span>or</span>
                </div>

                <div class="auth-switch">
                    Already have an account? <a href="#" data-action="showAuthPanel" data-panel="login">Sign in</a>
                </div>
            </div>

            <!-- Forgot Password Form -->
            <div class="auth-form hidden" id="forgot-form">
                <div class="auth-header">
                    <h2 class="auth-title">Reset Password</h2>
                    <p class="auth-subtitle">Enter your email to receive a reset link</p>
                </div>

                <div class="auth-fields">
                    <div class="auth-field">
                        <label class="auth-label">Email</label>
                        <input type="email" class="auth-input" id="forgot-email" placeholder="Enter your email" required maxlength="100">
                        <span class="auth-error" id="forgot-email-error"></span>
                    </div>
                </div>

                <button type="button" class="auth-submit-btn" data-action="handleForgotPassword">Send Reset Link</button>

                <div class="auth-switch" style="margin-top: 20px;">
                    <a href="#" data-action="showAuthPanel" data-panel="login"> Back to login</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Password Update Modal (shown after clicking reset link) -->
    <div class="modal hidden" id="password-update-modal">
        <div class="modal-content auth-modal-content">
            <div class="auth-form" id="password-update-form">
                <div class="auth-header">
                    <h2 class="auth-title">Set New Password</h2>
                    <p class="auth-subtitle">Enter your new password below</p>
                </div>

                <div class="auth-fields">
                    <div class="auth-field">
                        <label class="auth-label">New Password</label>
                        <div class="auth-password-wrapper">
                            <input type="password" class="auth-input" id="update-password" placeholder="Enter new password" autocomplete="new-password">
                            <button type="button" class="auth-password-toggle" data-action="togglePasswordVisibility" data-input="update-password">
                                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            </button>
                        </div>
                        <span class="auth-hint">At least 8 characters with 1 special character (!@#$%^&*)</span>
                        <span class="auth-error" id="update-password-error"></span>
                    </div>
                    <div class="auth-field">
                        <label class="auth-label">Confirm New Password</label>
                        <div class="auth-password-wrapper">
                            <input type="password" class="auth-input" id="update-password-confirm" placeholder="Confirm new password" autocomplete="new-password">
                            <button type="button" class="auth-password-toggle" data-action="togglePasswordVisibility" data-input="update-password-confirm">
                                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            </button>
                        </div>
                        <span class="auth-error" id="update-password-confirm-error"></span>
                    </div>
                </div>

                <div class="auth-error-message" id="password-update-error"></div>
                <div class="auth-success-message" id="password-update-success"></div>

                <button type="button" class="auth-submit-btn" data-action="handlePasswordUpdate">Update Password</button>
            </div>
        </div>
    </div>

    <!-- Profile Edit Modal -->
    <div class="modal-overlay" id="profile-edit-modal" style="display: none;">
        <div class="modal-content profile-edit-modal">
            <div class="modal-header">
                <h2>Edit Profile</h2>
                <button class="modal-close-btn" id="profile-edit-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="profile-edit-group">
                    <label class="profile-edit-label">Username</label>
                    <input type="text" class="profile-edit-input" id="profile-edit-username" placeholder="Enter username..." maxlength="18">
                    <span class="input-error-message" id="username-error"></span>
                </div>
                <div class="profile-edit-group">
                    <label class="profile-edit-label">Bio</label>
                    <textarea class="profile-edit-textarea" id="profile-edit-bio" placeholder="Tell us about yourself..." maxlength="100"></textarea>
                    <span class="char-count" id="bio-char-count">0/100</span>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel" id="profile-edit-cancel">Cancel</button>
                <button class="modal-btn save" id="profile-edit-save">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- External Link Warning Modal -->
    <div class="modal hidden" id="external-link-modal">
        <div class="modal-content external-link-modal-content">
            <div class="external-link-warning">
                <div class="external-link-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                        <line x1="12" y1="9" x2="12" y2="13"/>
                        <line x1="12" y1="17" x2="12.01" y2="17"/>
                    </svg>
                </div>
                <h3 class="external-link-title">You are leaving Preset Junkies</h3>
                <p class="external-link-message">This is an external link that we haven't verified. Make sure you trust this link before continuing.</p>
                <div class="external-link-url" id="external-link-url"></div>
                <div class="external-link-actions">
                    <button class="external-link-cancel" data-action="closeExternalLinkModal">Cancel</button>
                    <button class="external-link-continue" data-action="continueToExternalLink">Continue</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modular JavaScript -->
    <script src="utils.js"></script>
    <script src="supabase.js"></script>
    <script src="state.js"></script>
    <script src="audio.js"></script>
    <script src="filters.js"></script>
    <script src="browse.js"></script>
    <script src="comments.js"></script>
    <script src="user.js"></script>
    <script src="junkies.js"></script>
    <script src="upload.js"></script>
    <script src="lounge.js"></script>
    <script src="notifications.js"></script>
    <script src="settings.js"></script>
    <script src="manage-sounds.js"></script>
    <script src="auth.js"></script>
    <script src="main.js"></script>
    <script src="event-handlers.js"></script>
</body>
</html>
